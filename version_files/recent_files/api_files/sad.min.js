! function(e, t) {
  "object" == typeof exports && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : t((e = "undefined" != typeof globalThis ? globalThis : e || self).SAD = {})
}(this, (function(e) {
  "use strict";
  const t = {
      ru: "Упс! В данный момент нет доступной рекламы. Попробуйте ещё раз чуть позже 🙏",
      en: "Oops! No ads available at the moment. Try again later 🙏"
    },
    n = {
      ru: "Упс! Вы слишком часто пытаетесь посмотреть рекламу. Попробуйте ещё раз чуть позже 🙏",
      en: "Oops! You are trying to watch ads too often. Please try again later 🙏"
    },
    r = "RewardedVideo",
    i = "FullscreenMedia",
    a = {
      RewardBlock: "RewardBlock",
      InterstitialFullscreen: "InterstitialFullscreen"
    },
    o = ["int-"],
    s = {
      [a.RewardBlock]: "",
      [a.InterstitialFullscreen]: "int-"
    },
    l = {
      themeParams: {
        accentTextColor: "#168acd",
        bgColor: "#ffffff",
        buttonColor: "#40a7e3",
        buttonTextColor: "#ffffff",
        destructiveTextColor: "#d14e4e",
        headerBgColor: "#ffffff",
        hintColor: "#999999",
        linkColor: "#168acd",
        secondaryBgColor: "#f1f1f1",
        sectionBgColor: "#ffffff",
        sectionHeaderTextColor: "#168acd",
        sectionSeparatorColor: "#e7e7e7",
        subtitleTextColor: "#999999",
        textColor: "#000000"
      },
      initData: {
        authDate: new Date(1724378007e3),
        hash: "e1d28656e2cc7529099f01c0b145b7f5c0006d2d7bb0640ffa5d17c4e3f485fc",
        user: {
          allowsWriteToPm: !0,
          firstName: "Aliaksei",
          id: 111111,
          languageCode: "en",
          lastName: "mock",
          username: "mock"
        }
      },
      initDataRaw: "query_id=AAEMo_0aAAAAAAyj_Ro3BMVq&user=%7B%22id%22%3A111111%2C%22first_name%22%3A%22Aliaksei%22%2C%22last_name%22%3A%22%22%2C%22username%22%3A%22mock%22%2C%22language_code%22%3A%22en%22%2C%22allows_write_to_pm%22%3Atrue%7D&auth_date=1724378007&hash=e1d28656e2cc7529099f01c0b145b7f5c0006d2d7bb0640ffa5d17c4e3f485fc",
      version: "7.8",
      platform: "browser"
    };
  class c extends Error {
    constructor(e, t, n) {
      super(t, {
        cause: n
      }), this.type = e, Object.setPrototypeOf(this, c.prototype)
    }
  }

  function d(e, t, n) {
    return new c(e, t, n)
  }
  const u = "ERR_METHOD_UNSUPPORTED",
    p = "ERR_METHOD_PARAMETER_UNSUPPORTED",
    _ = "ERR_UNKNOWN_ENV",
    h = "ERR_UNEXPECTED_TYPE",
    m = "ERR_PARSE";
  class f {
    constructor(e, t, n) {
      this.parser = e, this.isOptional = t, this.type = n
    }
    parse(e) {
      if (!this.isOptional || void 0 !== e) try {
        return this.parser(e)
      } catch (t) {
        throw d(m, "Unable to parse value" + (this.type ? ` as ${this.type}` : ""), t)
      }
    }
    optional() {
      return this.isOptional = !0, this
    }
    required() {
      return this.isOptional = !1, this
    }
  }

  function g(e, t) {
    return () => new f(e, !1, t)
  }

  function b() {
    return d(h, "Value has unexpected type")
  }
  const v = g((e => {
      if ("number" == typeof e) return e;
      if ("string" == typeof e) {
        const t = Number(e);
        if (!Number.isNaN(t)) return t
      }
      throw b()
    }), "number"),
    y = g((e => e instanceof Date ? e : new Date(1e3 * v().parse(e))), "Date");

  function w(e, t) {
    const n = {};
    for (const i in e) {
      const a = e[i];
      if (!a) continue;
      let o, s;
      if ("function" == typeof a || "parse" in a) o = i, s = "function" == typeof a ? a : a.parse.bind(a);
      else {
        const {
          type: e
        } = a;
        o = a.from || i, s = "function" == typeof e ? e : e.parse.bind(e)
      }
      try {
        const e = s(t(o));
        void 0 !== e && (n[i] = e)
      } catch (r) {
        throw d(m, `Unable to parse field "${i}"`, r)
      }
    }
    return n
  }

  function k(e, t) {
    return new f((t => {
      if ("string" != typeof t && !(t instanceof URLSearchParams)) throw b();
      const n = "string" == typeof t ? new URLSearchParams(t) : t;
      return w(e, (e => n.get(e) ?? void 0))
    }), !1, t)
  }
  const x = g((e => {
    if ("string" == typeof e || "number" == typeof e) return e.toString();
    throw b()
  }), "string");

  function E(e) {
    let t = e;
    if ("string" == typeof t && (t = JSON.parse(t)), "object" != typeof t || null === t || Array.isArray(t)) throw b();
    return t
  }

  function A(e, t) {
    return new f((t => {
      const n = E(t);
      return w(e, (e => n[e]))
    }), !1, t)
  }
  const T = A({
      id: v(),
      type: x(),
      title: x(),
      photoUrl: {
        type: x().optional(),
        from: "photo_url"
      },
      username: x().optional()
    }, "Chat").optional(),
    C = g((e => {
      if ("boolean" == typeof e) return e;
      const t = String(e);
      if ("1" === t || "true" === t) return !0;
      if ("0" === t || "false" === t) return !1;
      throw b()
    }), "boolean"),
    P = {
      addedToAttachmentMenu: {
        type: C().optional(),
        from: "added_to_attachment_menu"
      },
      allowsWriteToPm: {
        type: C().optional(),
        from: "allows_write_to_pm"
      },
      firstName: {
        type: x(),
        from: "first_name"
      },
      id: v(),
      isBot: {
        type: C().optional(),
        from: "is_bot"
      },
      isPremium: {
        type: C().optional(),
        from: "is_premium"
      },
      languageCode: {
        type: x().optional(),
        from: "language_code"
      },
      lastName: {
        type: x().optional(),
        from: "last_name"
      },
      photoUrl: {
        type: x().optional(),
        from: "photo_url"
      },
      username: x().optional()
    },
    N = A(P, "User").optional(),
    S = A(P, "User").required();

  function R() {
    return k({
      authDate: {
        type: y(),
        from: "auth_date"
      },
      canSendAfter: {
        type: v().optional(),
        from: "can_send_after"
      },
      chat: T,
      chatInstance: {
        type: x().optional(),
        from: "chat_instance"
      },
      chatType: {
        type: x().optional(),
        from: "chat_type"
      },
      hash: x(),
      queryId: {
        type: x().optional(),
        from: "query_id"
      },
      receiver: N,
      startParam: {
        type: x().optional(),
        from: "start_param"
      },
      user: S
    }, "InitData")
  }

  function I(e) {
    const t = e.replace(/\s/g, "").toLowerCase();
    if (function(e) {
        return /^#[\da-f]{6}$/i.test(e)
      }(t)) return t;
    if (function(e) {
        return /^#[\da-f]{3}$/i.test(e)
      }(t)) {
      let e = "#";
      for (let n = 0; n < 3; n += 1) e += t[1 + n].repeat(2);
      return e
    }
    const n = t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/) || t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);
    if (!n) throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);
    return n.slice(1).reduce(((e, t) => {
      const n = Number.parseInt(t, 10).toString(16);
      return e + (1 === n.length ? "0" : "") + n
    }), "#")
  }
  const V = g((e => I(x().parse(e))), "rgb");
  const L = g((e => {
    const t = V().optional();
    return Object.entries(E(e)).reduce(((e, [n, r]) => {
      var i;
      return e[(i = n, i.replace(/_[a-z]/g, (e => e[1].toUpperCase())))] = t.parse(r), e
    }), {})
  }), "ThemeParams");

  function F(e) {
    return L().parse(e)
  }

  function D() {
    return function(e) {
      if (!e) throw new Error("No telegram initParams in storage");
      const {
        tgWebAppData: t,
        tgWebAppVersion: n,
        tgWebAppPlatform: r,
        tgWebAppThemeParams: i,
        tgWebAppBotInline: a,
        tgWebAppShowSettings: o,
        tgWebAppStartParam: s
      } = e;
      return {
        botInline: Boolean(Number(a)),
        initData: (l = t, R().parse(l)),
        initDataRaw: t,
        showSettings: Boolean(Number(o)),
        startParam: s,
        themeParams: F(i),
        version: n,
        platform: r
      };
      var l
    }(function(e) {
      const t = sessionStorage.getItem(function(e) {
        return `__telegram__${e}`
      }(e));
      try {
        return t ? JSON.parse(t) : void 0
      } catch {}
    }("initParams"))
  }

  function O(e) {
    return k({
      botInline: {
        type: C().optional(),
        from: "tgWebAppBotInline"
      },
      initData: {
        type: R(),
        from: "tgWebAppData"
      },
      initDataRaw: {
        type: x().optional(),
        from: "tgWebAppData"
      },
      platform: {
        type: x(),
        from: "tgWebAppPlatform"
      },
      showSettings: {
        type: C().optional(),
        from: "tgWebAppShowSettings"
      },
      startParam: {
        type: x().optional(),
        from: "tgWebAppStartParam"
      },
      themeParams: {
        type: L(),
        from: "tgWebAppThemeParams"
      },
      version: {
        type: x(),
        from: "tgWebAppVersion"
      }
    }).parse(e)
  }

  function B(e) {
    return O(e.replace(/^[^#?]*[#?]/, "").replace(/[#?]/g, "&"))
  }

  function U() {
    return B(window.location.href)
  }

  function M() {
    const e = performance.getEntriesByType("navigation")[0];
    if (!e) throw new Error("Unable to get first navigation entry.");
    return B(e.name)
  }

  function z() {
    return O(JSON.parse(sessionStorage.getItem("tma.js/launch-params") ?? sessionStorage.getItem("tapps/launchParams") ?? sessionStorage.getItem("telegram-apps/launch-params") ?? sessionStorage.getItem("adsgram/launch-params") ?? ""))
  }

  function j(e) {
    try {
      return function() {
        for (const e of [U, M, D, z]) try {
          return e()
        } catch {}
        throw new Error("Unable to retrieve launch parameters from any known source.")
      }()
    } catch {
      return e?.(), l
    }
  }

  function W() {
    return j().initData.user
  }

  function $() {
    return W().languageCode ?? window.navigator.language
  }

  function H(e) {
    const t = $();
    return t in e ? e[t] : e.en
  }
  const q = {
      [r]: "104",
      [i]: "511"
    },
    G = r,
    Y = {
      noBannerToShowError: {
        description: H(t),
        state: "load",
        error: !1,
        done: !1
      },
      duplicateShowError: {
        description: "Attempt to call show when an ad is being shown",
        state: "playing",
        error: !0,
        done: !1
      },
      renderError: {
        description: "Error during render ad",
        state: "render",
        error: !0,
        done: !1
      },
      playError: {
        description: "Error during playing ad",
        state: "playing",
        error: !0,
        done: !1
      },
      skip: {
        description: "The banner was skipped",
        state: "playing",
        error: !1,
        done: !1
      },
      reward: {
        description: "The banner was viewed to the end",
        state: "destroy",
        error: !1,
        done: !0
      },
      complete: {
        description: "The interstitial banner was viewed to the end or closed",
        state: "destroy",
        error: !1,
        done: !0
      },
      noBannerDataError: {
        description: "No banner data to show",
        state: "load",
        error: !1,
        done: !1
      },
      nonStopShowError: {
        description: "The user is trying to watch several ads in a row.",
        state: "load",
        error: !0,
        done: !1
      }
    };
  const Z = "https://api.adsgram.ai/";

  function J(e) {
    for (const t of o)
      if (e.startsWith(t)) return e.replace(t, "");
    return e
  }
  const X = "AdsgramError";

  function K(e) {
    return "object" == typeof e && null !== e && !Array.isArray(e)
  }

  function Q(e, t) {
    return function(e, t) {
      const n = e.split("."),
        r = t.split("."),
        i = Math.max(n.length, r.length);
      for (let a = 0; a < i; a += 1) {
        const e = Number.parseInt(n[a] || "0", 10),
          t = Number.parseInt(r[a] || "0", 10);
        if (e !== t) return e > t ? 1 : -1
      }
      return 0
    }(e, t) <= 0
  }

  function ee(e, t, n) {
    if ("string" == typeof n) {
      if ("web_app_open_link" === e && "try_instant_view" === t) return Q("6.4", n);
      if ("web_app_set_header_color" === e && "color" === t) return Q("6.9", n)
    }
    switch (e) {
      case "web_app_open_tg_link":
      case "web_app_open_invoice":
      case "web_app_setup_back_button":
      case "web_app_set_background_color":
      case "web_app_set_header_color":
      case "web_app_trigger_haptic_feedback":
        return Q("6.1", t);
      case "web_app_open_popup":
        return Q("6.2", t);
      case "web_app_close_scan_qr_popup":
      case "web_app_open_scan_qr_popup":
      case "web_app_read_text_from_clipboard":
        return Q("6.4", t);
      case "web_app_switch_inline_query":
        return Q("6.7", t);
      case "web_app_request_write_access":
      case "web_app_request_phone":
        return Q("6.9", t);
      case "web_app_setup_settings_button":
        return Q("6.10", t);
      case "web_app_biometry_get_info":
      case "web_app_biometry_open_settings":
      case "web_app_biometry_request_access":
      case "web_app_biometry_request_auth":
      case "web_app_biometry_update_token":
        return Q("7.2", t);
      default:
        return ["iframe_ready", "iframe_will_reload", "web_app_close", "web_app_data_send", "web_app_expand", "web_app_open_link", "web_app_ready", "web_app_request_theme", "web_app_request_viewport", "web_app_setup_main_button", "web_app_setup_closing_behavior"].includes(e)
    }
  }
  const te = "web.telegram.org",
    ne = e => e.toLowerCase().startsWith("https://") ? new URL(e).hostname : e,
    re = (e = !0) => {
      const t = window.location.ancestorOrigins;
      if (t?.length) {
        const n = ne(t[t.length - 1]);
        return n === te && e ? t.length > 1 ? ne(t[t.length - 2]) : window.location.hostname : n
      }
      try {
        const e = window.top.location.hostname;
        if (e) return e
      } catch {}
      return window.location.hostname
    };

  function ie() {
    return function() {
      try {
        return window.self !== window.top
      } catch {
        return !0
      }
    }() && re(!1) === te
  }
  let ae = `https://${te}`;

  function oe() {
    return ae
  }

  function se(e, t, n) {
    let r, i = {};
    void 0 === t && void 0 === n ? i = {} : void 0 !== t && void 0 !== n ? (i = n, r = t) : void 0 !== t && ("targetOrigin" in t ? i = t : r = t);
    const {
      targetOrigin: a = oe()
    } = i;
    var o;
    if ("external" in (o = window) && K(o.external) && "notify" in o.external && "function" == typeof o.external.notify) window.external.notify(JSON.stringify({
      eventType: e,
      eventData: r
    }));
    else if (function(e) {
        return "TelegramWebviewProxy" in e && K(e.TelegramWebviewProxy) && "postEvent" in e.TelegramWebviewProxy && "function" == typeof e.TelegramWebviewProxy.postEvent
      }(window)) window.TelegramWebviewProxy.postEvent(e, JSON.stringify(r));
    else {
      if (!ie()) throw d(_, "Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside of Telegram application environment.");
      window.parent.postMessage(JSON.stringify({
        eventType: e,
        eventData: r
      }), a)
    }
  }

  function le(e) {
    return (t, n) => {
      if (!ee(t, e)) throw d(u, `Method "${t}" is unsupported in Mini Apps version ${e}`);
      if (K(n)) {
        let r;
        if ("web_app_open_link" === t && "try_instant_view" in n ? r = "try_instant_view" : "web_app_set_header_color" === t && "color" in n && (r = "color"), r && !ee(t, r, e)) throw d(p, `Parameter "${r}" of "${t}" method is unsupported in Mini Apps version ${e}`)
      }
      return se(t, n)
    }
  }

  function ce() {
    return j().version
  }

  function de(e) {
    try {
      le(ce())("web_app_open_popup", function(e) {
        const t = e.message.trim(),
          n = (e.title ?? "").trim(),
          r = e.buttons || [];
        if (n.length > 64) throw new Error(`Title has incorrect size: ${n.length}`);
        if (0 === t.length || t.length > 256) throw new Error(`Message has incorrect size: ${t.length}`);
        if (r.length > 3) throw new Error(`Buttons have incorrect size: ${r.length}`);
        return {
          title: n,
          message: t,
          buttons: 0 === r.length ? [{
            type: "close",
            id: ""
          }] : r.map((e => {
            const {
              id: t = ""
            } = e;
            if (t.length > 64) throw new Error(`Button ID has incorrect size: ${t}`);
            if (!e.type || "default" === e.type || "destructive" === e.type) {
              const n = e.text.trim();
              if (0 === n.length || n.length > 64) {
                const t = e.type ?? "default";
                throw new Error(`Button text with type "${t}" has incorrect size: ${e.text.length}`)
              }
              return {
                ...e,
                text: n,
                id: t
              }
            }
            return {
              ...e,
              id: t
            }
          }))
        }
      }(e))
    } catch {
      alert(e.message)
    }
  }
  class ue extends Error {
    message;
    constructor({
      message: e
    }) {
      super(e), this.name = X, this.message = `${X}: ${e}`, this.logError(e)
    }
    logError(e) {
      de({
        title: "AdsgramError",
        message: e.length < 256 ? e : e.slice(0, 255)
      }), console.error(this)
    }
  }
  const pe = 0;

  function _e(e, t, n = pe) {
    return new Promise(((r, i) => {
      const a = function(o) {
        fetch(e, t).then((e => {
          r(e)
        })).catch((e => {
          o < n ? a(++o) : i(e)
        }))
      };
      a(0)
    }))
  }
  const he = ["blockId", "campaignId", "environment"],
    me = ({
      app: e,
      type: t,
      event: n,
      data: r
    }) => {
      const i = {
        app: e,
        type: t,
        event: n
      };
      return r && (i.data = JSON.stringify(((e, t) => {
        const n = [],
          r = [];
        for (const [a, o] of Object.entries(t)) {
          const t = e.indexOf(a); - 1 === t ? n.push([a, o]) : r[t] = [a, o]
        }
        const i = [...n, ...r.filter(Boolean)];
        return Object.fromEntries(i)
      })(he, r))), new URLSearchParams(i)
    };
  class fe {
    apiUrl;
    app;
    data;
    constructor(e, t) {
      return this.app = e, this.apiUrl = t, this.data = {}, this
    }
    getData() {
      return this.data
    }
    add(e, t) {
      return (e => {
        if (null == e || "" === e) return !0;
        if ("object" == typeof e) {
          for (const t in e)
            if (Object.prototype.hasOwnProperty.call(e, t)) return !1;
          return !0
        }
        return !1
      })(t) || (this.data[e] = t), this
    }
    addError(e) {
      return this.data.error = function(e) {
        return e instanceof Error ? {
          name: e.name,
          message: e.message,
          stack: e.stack
        } : String(e)
      }(e), this
    }
    clean() {
      return this.data = {}, this
    }
    send(e, t = "ERROR") {
      _e(`${this.getSendUrl(e,t)}`, {
        method: "GET",
        cache: "no-cache"
      }).then((() => !0)).catch((() => !1))
    }
    getLogRequestData(e, t) {
      return {
        app: this.app,
        type: t,
        event: e,
        data: {
          ...this.data
        }
      }
    }
    getSendUrl(e, t) {
      return `${this.apiUrl}?${me(this.getLogRequestData(e,t))}`
    }
  }

  function ge() {
    return j().platform
  }
  const be = "frontend-error";

  function ve() {
    const e = new fe("SAD", `${Z}${be}`),
      t = function() {
        try {
          return {
            tg_id: String(W().id),
            tg_platform: ge(),
            platform: window.navigator.platform,
            userAgent: window.navigator.userAgent,
            origin: window.location.origin,
            top_domain: re(),
            lib_version: window.Adsgram.init?.version,
            tma_version: j().version
          }
        } catch {
          return null
        }
      }();
    return t && e.add("environment", t), e
  }
  async function ye(e, t) {
    const n = ve();
    n.add("blockId", e).add("isForceCampaign", Boolean(t)).add("campaignId", Number(t));
    try {
      const r = function(e, t) {
          const n = ve();
          n.add("blockId", e).add("campaignId", t);
          try {
            const {
              initData: r,
              platform: i
            } = j((() => {
              n.send("NoUserData", "WARN")
            })), {
              user: a,
              chat: o
            } = r, s = localStorage.getItem("ton-connect-ui_wallet-info") ? "1" : void 0;
            return {
              blockId: J(e),
              forceCampaignId: t,
              tg_id: String(a.id),
              tg_platform: i,
              platform: window.navigator.platform,
              language: a?.languageCode ?? window.navigator.language,
              is_premium: a?.isPremium,
              chat_type: r?.chatType,
              chat_instance: r?.chatInstance,
              attach_chat_type: o?.type,
              attach_chat_id: o?.id ? String(o?.id) : void 0,
              receiver_id: r?.receiver?.id ? String(r?.receiver?.id) : void 0,
              receiver_is_bot: r.receiver?.isBot,
              top_domain: re(),
              connectiontype: s
            }
          } catch (r) {
            throw n.addError(r).send("CannotGetRequestData"), new ue({
              message: "Cannot get request data."
            })
          }
        }(e, t),
        i = await _e(`${Z}adv?${(e=>{const t={};for(const[n,r]of Object.entries(e))"object"==typeof r&&null!==r?t[n]=JSON.stringify(r):null!=r&&""!==r&&(t[n]=String(r));return new URLSearchParams(t)})(r)}`, {
          method: "GET",
          cache: "no-cache",
          referrerPolicy: "strict-origin-when-cross-origin"
        }, 0);
      if (i.ok) return await i.json();
      switch ((await i.json()).error) {
        case "Wrong referer":
          throw n.send("WrongReferer", "WARN"), new ue({
            message: `Platform App url for blockId = ${e} not equal to ${window.location.origin}\nCreate new platform with app url ${window.location.origin} and new blockId for this platform.`
          });
        case "Need to use active blockid":
          throw n.send("BlockNotActive", "WARN"), new ue({
            message: `Block ${e} is not active.\nChange status to active on https://partner.adsgram.ai/units/${e}/\nIf block has moderation status see https://docs.adsgram.ai/publisher/get-block-id#moderation`
          });
        case "Not found this id":
          throw n.send("BlockNotFound", "WARN"), new ue({
            message: `BlockId = ${e} is not found. Make sure that this is your blockId https://partner.adsgram.ai/units/${e}/`
          });
        case "Need to specify blockid":
          throw n.send("NotPassBlock", "WARN"), new ue({
            message: "You don't pass blockId to Init function"
          })
      }
    } catch (r) {
      throw r instanceof ue || n.addError(r).send("APIFetchBannerDataError"), r
    }
  }
  var we, ke, xe, Ee, Ae, Te, Ce, Pe, Ne = {},
    Se = [],
    Re = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,
    Ie = Array.isArray;

  function Ve(e, t) {
    for (var n in t) e[n] = t[n];
    return e
  }

  function Le(e) {
    var t = e.parentNode;
    t && t.removeChild(e)
  }

  function Fe(e, t, n) {
    var r, i, a, o = {};
    for (a in t) "key" == a ? r = t[a] : "ref" == a ? i = t[a] : o[a] = t[a];
    if (arguments.length > 2 && (o.children = arguments.length > 3 ? we.call(arguments, 2) : n), "function" == typeof e && null != e.defaultProps)
      for (a in e.defaultProps) void 0 === o[a] && (o[a] = e.defaultProps[a]);
    return De(e, o, r, i, null)
  }

  function De(e, t, n, r, i) {
    var a = {
      type: e,
      props: t,
      key: n,
      ref: r,
      __k: null,
      __: null,
      __b: 0,
      __e: null,
      __d: void 0,
      __c: null,
      constructor: void 0,
      __v: null == i ? ++xe : i,
      __i: -1,
      __u: 0
    };
    return null == i && null != ke.vnode && ke.vnode(a), a
  }

  function Oe(e) {
    return e.children
  }

  function Be(e, t) {
    this.props = e, this.context = t
  }

  function Ue(e, t) {
    if (null == t) return e.__ ? Ue(e.__, e.__i + 1) : null;
    for (var n; t < e.__k.length; t++)
      if (null != (n = e.__k[t]) && null != n.__e) return n.__e;
    return "function" == typeof e.type ? Ue(e) : null
  }

  function Me(e) {
    var t, n;
    if (null != (e = e.__) && null != e.__c) {
      for (e.__e = e.__c.base = null, t = 0; t < e.__k.length; t++)
        if (null != (n = e.__k[t]) && null != n.__e) {
          e.__e = e.__c.base = n.__e;
          break
        } return Me(e)
    }
  }

  function ze(e) {
    (!e.__d && (e.__d = !0) && Ee.push(e) && !je.__r++ || Ae !== ke.debounceRendering) && ((Ae = ke.debounceRendering) || Te)(je)
  }

  function je() {
    var e, t, n, r, i, a, o, s, l;
    for (Ee.sort(Ce); e = Ee.shift();) e.__d && (t = Ee.length, r = void 0, a = (i = (n = e).__v).__e, s = [], l = [], (o = n.__P) && ((r = Ve({}, i)).__v = i.__v + 1, ke.vnode && ke.vnode(r), Xe(o, r, i, n.__n, void 0 !== o.ownerSVGElement, 32 & i.__u ? [a] : null, s, null == a ? Ue(i) : a, !!(32 & i.__u), l), r.__.__k[r.__i] = r, Ke(s, r, l), r.__e != a && Me(r)), Ee.length > t && Ee.sort(Ce));
    je.__r = 0
  }

  function We(e, t, n, r, i, a, o, s, l, c, d) {
    var u, p, _, h, m, f = r && r.__k || Se,
      g = t.length;
    for (n.__d = l, function(e, t, n) {
        var r, i, a, o, s, l = t.length,
          c = n.length,
          d = c,
          u = 0;
        for (e.__k = [], r = 0; r < l; r++) null != (i = e.__k[r] = null == (i = t[r]) || "boolean" == typeof i || "function" == typeof i ? null : "string" == typeof i || "number" == typeof i || "bigint" == typeof i || i.constructor == String ? De(null, i, null, null, i) : Ie(i) ? De(Oe, {
          children: i
        }, null, null, null) : void 0 === i.constructor && i.__b > 0 ? De(i.type, i.props, i.key, i.ref ? i.ref : null, i.__v) : i) ? (i.__ = e, i.__b = e.__b + 1, s = qe(i, n, o = r + u, d), i.__i = s, a = null, -1 !== s && (d--, (a = n[s]) && (a.__u |= 131072)), null == a || null === a.__v ? (-1 == s && u--, "function" != typeof i.type && (i.__u |= 65536)) : s !== o && (s === o + 1 ? u++ : s > o ? d > l - o ? u += s - o : u-- : u = s < o && s == o - 1 ? s - o : 0, s !== r + u && (i.__u |= 65536))) : (a = n[r]) && null == a.key && a.__e && (a.__e == e.__d && (e.__d = Ue(a)), et(a, a, !1), n[r] = null, d--);
        if (d)
          for (r = 0; r < c; r++) null != (a = n[r]) && 0 == (131072 & a.__u) && (a.__e == e.__d && (e.__d = Ue(a)), et(a, a))
      }(n, t, f), l = n.__d, u = 0; u < g; u++) null != (_ = n.__k[u]) && "boolean" != typeof _ && "function" != typeof _ && (p = -1 === _.__i ? Ne : f[_.__i] || Ne, _.__i = u, Xe(e, _, p, i, a, o, s, l, c, d), h = _.__e, _.ref && p.ref != _.ref && (p.ref && Qe(p.ref, null, _), d.push(_.ref, _.__c || h, _)), null == m && null != h && (m = h), 65536 & _.__u || p.__k === _.__k ? l = $e(_, l, e) : "function" == typeof _.type && void 0 !== _.__d ? l = _.__d : h && (l = h.nextSibling), _.__d = void 0, _.__u &= -196609);
    n.__d = l, n.__e = m
  }

  function $e(e, t, n) {
    var r, i;
    if ("function" == typeof e.type) {
      for (r = e.__k, i = 0; r && i < r.length; i++) r[i] && (r[i].__ = e, t = $e(r[i], t, n));
      return t
    }
    return e.__e != t && (n.insertBefore(e.__e, t || null), t = e.__e), t && t.nextSibling
  }

  function He(e, t) {
    return t = t || [], null == e || "boolean" == typeof e || (Ie(e) ? e.some((function(e) {
      He(e, t)
    })) : t.push(e)), t
  }

  function qe(e, t, n, r) {
    var i = e.key,
      a = e.type,
      o = n - 1,
      s = n + 1,
      l = t[n];
    if (null === l || l && i == l.key && a === l.type) return n;
    if (r > (null != l && 0 == (131072 & l.__u) ? 1 : 0))
      for (; o >= 0 || s < t.length;) {
        if (o >= 0) {
          if ((l = t[o]) && 0 == (131072 & l.__u) && i == l.key && a === l.type) return o;
          o--
        }
        if (s < t.length) {
          if ((l = t[s]) && 0 == (131072 & l.__u) && i == l.key && a === l.type) return s;
          s++
        }
      }
    return -1
  }

  function Ge(e, t, n) {
    "-" === t[0] ? e.setProperty(t, null == n ? "" : n) : e[t] = null == n ? "" : "number" != typeof n || Re.test(t) ? n : n + "px"
  }

  function Ye(e, t, n, r, i) {
    var a;
    e: if ("style" === t)
      if ("string" == typeof n) e.style.cssText = n;
      else {
        if ("string" == typeof r && (e.style.cssText = r = ""), r)
          for (t in r) n && t in n || Ge(e.style, t, "");
        if (n)
          for (t in n) r && n[t] === r[t] || Ge(e.style, t, n[t])
      }
    else if ("o" === t[0] && "n" === t[1]) a = t !== (t = t.replace(/(PointerCapture)$|Capture$/, "$1")), t = t.toLowerCase() in e ? t.toLowerCase().slice(2) : t.slice(2), e.l || (e.l = {}), e.l[t + a] = n, n ? r ? n.u = r.u : (n.u = Date.now(), e.addEventListener(t, a ? Je : Ze, a)) : e.removeEventListener(t, a ? Je : Ze, a);
    else {
      if (i) t = t.replace(/xlink(H|:h)/, "h").replace(/sName$/, "s");
      else if ("width" !== t && "height" !== t && "href" !== t && "list" !== t && "form" !== t && "tabIndex" !== t && "download" !== t && "rowSpan" !== t && "colSpan" !== t && "role" !== t && t in e) try {
        e[t] = null == n ? "" : n;
        break e
      } catch (o) {}
      "function" == typeof n || (null == n || !1 === n && "-" !== t[4] ? e.removeAttribute(t) : e.setAttribute(t, n))
    }
  }

  function Ze(e) {
    var t = this.l[e.type + !1];
    if (e.t) {
      if (e.t <= t.u) return
    } else e.t = Date.now();
    return t(ke.event ? ke.event(e) : e)
  }

  function Je(e) {
    return this.l[e.type + !0](ke.event ? ke.event(e) : e)
  }

  function Xe(e, t, n, r, i, a, o, s, l, c) {
    var d, u, p, _, h, m, f, g, b, v, y, w, k, x, E, A = t.type;
    if (void 0 !== t.constructor) return null;
    128 & n.__u && (l = !!(32 & n.__u), a = [s = t.__e = n.__e]), (d = ke.__b) && d(t);
    e: if ("function" == typeof A) try {
      if (g = t.props, b = (d = A.contextType) && r[d.__c], v = d ? b ? b.props.value : d.__ : r, n.__c ? f = (u = t.__c = n.__c).__ = u.__E : ("prototype" in A && A.prototype.render ? t.__c = u = new A(g, v) : (t.__c = u = new Be(g, v), u.constructor = A, u.render = tt), b && b.sub(u), u.props = g, u.state || (u.state = {}), u.context = v, u.__n = r, p = u.__d = !0, u.__h = [], u._sb = []), null == u.__s && (u.__s = u.state), null != A.getDerivedStateFromProps && (u.__s == u.state && (u.__s = Ve({}, u.__s)), Ve(u.__s, A.getDerivedStateFromProps(g, u.__s))), _ = u.props, h = u.state, u.__v = t, p) null == A.getDerivedStateFromProps && null != u.componentWillMount && u.componentWillMount(), null != u.componentDidMount && u.__h.push(u.componentDidMount);
      else {
        if (null == A.getDerivedStateFromProps && g !== _ && null != u.componentWillReceiveProps && u.componentWillReceiveProps(g, v), !u.__e && (null != u.shouldComponentUpdate && !1 === u.shouldComponentUpdate(g, u.__s, v) || t.__v === n.__v)) {
          for (t.__v !== n.__v && (u.props = g, u.state = u.__s, u.__d = !1), t.__e = n.__e, t.__k = n.__k, t.__k.forEach((function(e) {
              e && (e.__ = t)
            })), y = 0; y < u._sb.length; y++) u.__h.push(u._sb[y]);
          u._sb = [], u.__h.length && o.push(u);
          break e
        }
        null != u.componentWillUpdate && u.componentWillUpdate(g, u.__s, v), null != u.componentDidUpdate && u.__h.push((function() {
          u.componentDidUpdate(_, h, m)
        }))
      }
      if (u.context = v, u.props = g, u.__P = e, u.__e = !1, w = ke.__r, k = 0, "prototype" in A && A.prototype.render) {
        for (u.state = u.__s, u.__d = !1, w && w(t), d = u.render(u.props, u.state, u.context), x = 0; x < u._sb.length; x++) u.__h.push(u._sb[x]);
        u._sb = []
      } else
        do {
          u.__d = !1, w && w(t), d = u.render(u.props, u.state, u.context), u.state = u.__s
        } while (u.__d && ++k < 25);
      u.state = u.__s, null != u.getChildContext && (r = Ve(Ve({}, r), u.getChildContext())), p || null == u.getSnapshotBeforeUpdate || (m = u.getSnapshotBeforeUpdate(_, h)), We(e, Ie(E = null != d && d.type === Oe && null == d.key ? d.props.children : d) ? E : [E], t, n, r, i, a, o, s, l, c), u.base = t.__e, t.__u &= -161, u.__h.length && o.push(u), f && (u.__E = u.__ = null)
    } catch (T) {
      t.__v = null, l || null != a ? (t.__e = s, t.__u |= l ? 160 : 32, a[a.indexOf(s)] = null) : (t.__e = n.__e, t.__k = n.__k), ke.__e(T, t, n)
    } else null == a && t.__v === n.__v ? (t.__k = n.__k, t.__e = n.__e) : t.__e = function(e, t, n, r, i, a, o, s, l) {
      var c, d, u, p, _, h, m, f = n.props,
        g = t.props,
        b = t.type;
      if ("svg" === b && (i = !0), null != a)
        for (c = 0; c < a.length; c++)
          if ((_ = a[c]) && "setAttribute" in _ == !!b && (b ? _.localName === b : 3 === _.nodeType)) {
            e = _, a[c] = null;
            break
          } if (null == e) {
        if (null === b) return document.createTextNode(g);
        e = i ? document.createElementNS("http://www.w3.org/2000/svg", b) : document.createElement(b, g.is && g), a = null, s = !1
      }
      if (null === b) f === g || s && e.data === g || (e.data = g);
      else {
        if (a = a && we.call(e.childNodes), f = n.props || Ne, !s && null != a)
          for (f = {}, c = 0; c < e.attributes.length; c++) f[(_ = e.attributes[c]).name] = _.value;
        for (c in f) _ = f[c], "children" == c || ("dangerouslySetInnerHTML" == c ? u = _ : "key" === c || c in g || Ye(e, c, null, _, i));
        for (c in g) _ = g[c], "children" == c ? p = _ : "dangerouslySetInnerHTML" == c ? d = _ : "value" == c ? h = _ : "checked" == c ? m = _ : "key" === c || s && "function" != typeof _ || f[c] === _ || Ye(e, c, _, f[c], i);
        if (d) s || u && (d.__html === u.__html || d.__html === e.innerHTML) || (e.innerHTML = d.__html), t.__k = [];
        else if (u && (e.innerHTML = ""), We(e, Ie(p) ? p : [p], t, n, r, i && "foreignObject" !== b, a, o, a ? a[0] : n.__k && Ue(n, 0), s, l), null != a)
          for (c = a.length; c--;) null != a[c] && Le(a[c]);
        s || (c = "value", void 0 !== h && (h !== e[c] || "progress" === b && !h || "option" === b && h !== f[c]) && Ye(e, c, h, f[c], !1), c = "checked", void 0 !== m && m !== e[c] && Ye(e, c, m, f[c], !1))
      }
      return e
    }(n.__e, t, n, r, i, a, o, l, c);
    (d = ke.diffed) && d(t)
  }

  function Ke(e, t, n) {
    t.__d = void 0;
    for (var r = 0; r < n.length; r++) Qe(n[r], n[++r], n[++r]);
    ke.__c && ke.__c(t, e), e.some((function(t) {
      try {
        e = t.__h, t.__h = [], e.some((function(e) {
          e.call(t)
        }))
      } catch (n) {
        ke.__e(n, t.__v)
      }
    }))
  }

  function Qe(e, t, n) {
    try {
      "function" == typeof e ? e(t) : e.current = t
    } catch (r) {
      ke.__e(r, n)
    }
  }

  function et(e, t, n) {
    var r, i;
    if (ke.unmount && ke.unmount(e), (r = e.ref) && (r.current && r.current !== e.__e || Qe(r, null, t)), null != (r = e.__c)) {
      if (r.componentWillUnmount) try {
        r.componentWillUnmount()
      } catch (a) {
        ke.__e(a, t)
      }
      r.base = r.__P = null, e.__c = void 0
    }
    if (r = e.__k)
      for (i = 0; i < r.length; i++) r[i] && et(r[i], t, n || "function" != typeof e.type);
    n || null == e.__e || Le(e.__e), e.__ = e.__e = e.__d = void 0
  }

  function tt(e, t, n) {
    return this.constructor(e, n)
  }

  function nt(e, t, n) {
    var r, i, a, o;
    ke.__ && ke.__(e, t), i = (r = "function" == typeof n) ? null : n && n.__k || t.__k, a = [], o = [], Xe(t, e = (!r && n || t).__k = Fe(Oe, null, [e]), i || Ne, Ne, void 0 !== t.ownerSVGElement, !r && n ? [n] : i ? null : t.firstChild ? we.call(t.childNodes) : null, a, !r && n ? n : i ? i.__e : t.firstChild, r, o), Ke(a, e, o)
  }

  function rt(e, t) {
    var n = {
      __c: t = "__cC" + Pe++,
      __: e,
      Consumer: function(e, t) {
        return e.children(t)
      },
      Provider: function(e) {
        var n, r;
        return this.getChildContext || (n = [], (r = {})[t] = this, this.getChildContext = function() {
          return r
        }, this.shouldComponentUpdate = function(e) {
          this.props.value !== e.value && n.some((function(e) {
            e.__e = !0, ze(e)
          }))
        }, this.sub = function(e) {
          n.push(e);
          var t = e.componentWillUnmount;
          e.componentWillUnmount = function() {
            n.splice(n.indexOf(e), 1), t && t.call(e)
          }
        }), e.children
      }
    };
    return n.Provider.__ = n.Consumer.contextType = n
  }
  we = Se.slice, ke = {
    __e: function(e, t, n, r) {
      for (var i, a, o; t = t.__;)
        if ((i = t.__c) && !i.__) try {
          if ((a = i.constructor) && null != a.getDerivedStateFromError && (i.setState(a.getDerivedStateFromError(e)), o = i.__d), null != i.componentDidCatch && (i.componentDidCatch(e, r || {}), o = i.__d), o) return i.__E = i
        } catch (s) {
          e = s
        }
      throw e
    }
  }, xe = 0, Be.prototype.setState = function(e, t) {
    var n;
    n = null != this.__s && this.__s !== this.state ? this.__s : this.__s = Ve({}, this.state), "function" == typeof e && (e = e(Ve({}, n), this.props)), e && Ve(n, e), null != e && this.__v && (t && this._sb.push(t), ze(this))
  }, Be.prototype.forceUpdate = function(e) {
    this.__v && (this.__e = !0, e && this.__h.push(e), ze(this))
  }, Be.prototype.render = Oe, Ee = [], Te = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, Ce = function(e, t) {
    return e.__v.__b - t.__v.__b
  }, je.__r = 0, Pe = 0;
  const it = new Set(["RewardedVideo", "FullscreenMedia"]);
  const at = {
      show: "show",
      load: "load",
      preload: "preload",
      destroy: "destroy",
      finalDestroy: "finalDestroy",
      error: "error",
      renderError: "renderError",
      pause: "pause",
      play: "play",
      leave: "leave",
      return: "return"
    },
    ot = {
      onReward: "onReward",
      onStart: "onStart",
      onSkip: "onSkip",
      onBannerNotFound: "onBannerNotFound",
      onError: "onError",
      onComplete: "onComplete",
      onNonStopShow: "onNonStopShow"
    },
    st = {
      ...at,
      ...ot,
      replay: "replay"
    };

  function lt({
    data: e,
    EventEmitter: t
  }) {
    const n = function(e) {
      return it.has(e.bannerType)
    }(e);
    if (n) {
      const e = document.body.style.overflow;
      document.body.style.overflow = "hidden";
      try {
        le(ce())("web_app_expand")
      } catch {}
      t.on(at.finalDestroy, (() => {
        document.body.style.overflow = e
      }))
    }! function(e) {
      let t = !1;
      const n = () => {
          t = !0
        },
        r = () => {
          t = !1
        },
        i = () => {
          "visible" === document.visibilityState && t && e.emit("return"), "hidden" !== document.visibilityState || t || e.emit("leave")
        },
        a = () => {
          t && e.emit("return")
        };
      e.on("leave", n), e.on("return", r), window.addEventListener("visibilitychange", i), window.addEventListener("focus", a), window.addEventListener("click", a), e.on("finalDestroy", (() => {
        window.removeEventListener("visibilitychange", i), window.removeEventListener("focus", a), window.removeEventListener("click", a), e.off("leave", n), e.off("return", r)
      }))
    }(t)
  }

  function ct(e) {
    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
  }
  var dt, ut = {
    exports: {}
  };
  dt = ut,
    function() {
      var e = {}.hasOwnProperty;

      function t() {
        for (var e = "", t = 0; t < arguments.length; t++) {
          var i = arguments[t];
          i && (e = r(e, n(i)))
        }
        return e
      }

      function n(n) {
        if ("string" == typeof n || "number" == typeof n) return n;
        if ("object" != typeof n) return "";
        if (Array.isArray(n)) return t.apply(null, n);
        if (n.toString !== Object.prototype.toString && !n.toString.toString().includes("[native code]")) return n.toString();
        var i = "";
        for (var a in n) e.call(n, a) && n[a] && (i = r(i, a));
        return i
      }

      function r(e, t) {
        return t ? e ? e + " " + t : e + t : e
      }
      dt.exports ? (t.default = t, dt.exports = t) : window.classNames = t
    }();
  const pt = ct(ut.exports),
    _t = 15,
    ht = 30,
    mt = "_banner_7zy2f_1",
    ft = "_wrapper_7zy2f_33",
    gt = rt(void 0);
  var bt, vt, yt, wt, kt = 0,
    xt = [],
    Et = [],
    At = ke.__b,
    Tt = ke.__r,
    Ct = ke.diffed,
    Pt = ke.__c,
    Nt = ke.unmount;

  function St(e, t) {
    ke.__h && ke.__h(vt, e, kt || t), kt = 0;
    var n = vt.__H || (vt.__H = {
      __: [],
      __h: []
    });
    return e >= n.__.length && n.__.push({
      __V: Et
    }), n.__[e]
  }

  function Rt(e) {
    return kt = 1,
      function(e, t, n) {
        var r = St(bt++, 2);
        if (r.t = e, !r.__c && (r.__ = [n ? n(t) : Wt(void 0, t), function(e) {
            var t = r.__N ? r.__N[0] : r.__[0],
              n = r.t(t, e);
            t !== n && (r.__N = [n, r.__[1]], r.__c.setState({}))
          }], r.__c = vt, !vt.u)) {
          var i = function(e, t, n) {
            if (!r.__c.__H) return !0;
            var i = r.__c.__H.__.filter((function(e) {
              return e.__c
            }));
            if (i.every((function(e) {
                return !e.__N
              }))) return !a || a.call(this, e, t, n);
            var o = !1;
            return i.forEach((function(e) {
              if (e.__N) {
                var t = e.__[0];
                e.__ = e.__N, e.__N = void 0, t !== e.__[0] && (o = !0)
              }
            })), !(!o && r.__c.props === e) && (!a || a.call(this, e, t, n))
          };
          vt.u = !0;
          var a = vt.shouldComponentUpdate,
            o = vt.componentWillUpdate;
          vt.componentWillUpdate = function(e, t, n) {
            if (this.__e) {
              var r = a;
              a = void 0, i(e, t, n), a = r
            }
            o && o.call(this, e, t, n)
          }, vt.shouldComponentUpdate = i
        }
        return r.__N || r.__
      }(Wt, e)
  }

  function It(e, t) {
    var n = St(bt++, 3);
    !ke.__s && jt(n.__H, t) && (n.__ = e, n.i = t, vt.__H.__h.push(n))
  }

  function Vt(e) {
    return kt = 5, Lt((function() {
      return {
        current: e
      }
    }), [])
  }

  function Lt(e, t) {
    var n = St(bt++, 7);
    return jt(n.__H, t) ? (n.__V = e(), n.i = t, n.__h = e, n.__V) : n.__
  }

  function Ft(e, t) {
    return kt = 8, Lt((function() {
      return e
    }), t)
  }

  function Dt(e) {
    var t = vt.context[e.__c],
      n = St(bt++, 9);
    return n.c = e, t ? (null == n.__ && (n.__ = !0, t.sub(vt)), t.props.value) : e.__
  }

  function Ot() {
    for (var e; e = xt.shift();)
      if (e.__P && e.__H) try {
        e.__H.__h.forEach(Mt), e.__H.__h.forEach(zt), e.__H.__h = []
      } catch (t) {
        e.__H.__h = [], ke.__e(t, e.__v)
      }
  }
  ke.__b = function(e) {
    vt = null, At && At(e)
  }, ke.__r = function(e) {
    Tt && Tt(e), bt = 0;
    var t = (vt = e.__c).__H;
    t && (yt === vt ? (t.__h = [], vt.__h = [], t.__.forEach((function(e) {
      e.__N && (e.__ = e.__N), e.__V = Et, e.__N = e.i = void 0
    }))) : (t.__h.forEach(Mt), t.__h.forEach(zt), t.__h = [], bt = 0)), yt = vt
  }, ke.diffed = function(e) {
    Ct && Ct(e);
    var t = e.__c;
    t && t.__H && (t.__H.__h.length && (1 !== xt.push(t) && wt === ke.requestAnimationFrame || ((wt = ke.requestAnimationFrame) || Ut)(Ot)), t.__H.__.forEach((function(e) {
      e.i && (e.__H = e.i), e.__V !== Et && (e.__ = e.__V), e.i = void 0, e.__V = Et
    }))), yt = vt = null
  }, ke.__c = function(e, t) {
    t.some((function(e) {
      try {
        e.__h.forEach(Mt), e.__h = e.__h.filter((function(e) {
          return !e.__ || zt(e)
        }))
      } catch (n) {
        t.some((function(e) {
          e.__h && (e.__h = [])
        })), t = [], ke.__e(n, e.__v)
      }
    })), Pt && Pt(e, t)
  }, ke.unmount = function(e) {
    Nt && Nt(e);
    var t, n = e.__c;
    n && n.__H && (n.__H.__.forEach((function(e) {
      try {
        Mt(e)
      } catch (n) {
        t = n
      }
    })), n.__H = void 0, t && ke.__e(t, n.__v))
  };
  var Bt = "function" == typeof requestAnimationFrame;

  function Ut(e) {
    var t, n = function() {
        clearTimeout(r), Bt && cancelAnimationFrame(t), setTimeout(e)
      },
      r = setTimeout(n, 100);
    Bt && (t = requestAnimationFrame(n))
  }

  function Mt(e) {
    var t = vt,
      n = e.__c;
    "function" == typeof n && (e.__c = void 0, n()), vt = t
  }

  function zt(e) {
    var t = vt;
    e.__c = e.__(), vt = t
  }

  function jt(e, t) {
    return !e || e.length !== t.length || t.some((function(t, n) {
      return t !== e[n]
    }))
  }

  function Wt(e, t) {
    return "function" == typeof t ? t(e) : t
  }

  function $t(e, t) {
    for (var n in e)
      if ("__source" !== n && !(n in t)) return !0;
    for (var r in t)
      if ("__source" !== r && e[r] !== t[r]) return !0;
    return !1
  }

  function Ht(e) {
    this.props = e
  }

  function qt(e, t) {
    function n(e) {
      var n = this.props.ref,
        r = n == e.ref;
      return !r && n && (n.call ? n(null) : n.current = null), t ? !t(this.props, e) || !r : $t(this.props, e)
    }

    function r(t) {
      return this.shouldComponentUpdate = n, Fe(e, t)
    }
    return r.displayName = "Memo(" + (e.displayName || e.name) + ")", r.prototype.isReactComponent = !0, r.__f = !0, r
  }(Ht.prototype = new Be).isPureReactComponent = !0, Ht.prototype.shouldComponentUpdate = function(e, t) {
    return $t(this.props, e) || $t(this.state, t)
  };
  var Gt = ke.__b;
  ke.__b = function(e) {
    e.type && e.type.__f && e.ref && (e.props.ref = e.ref, e.ref = null), Gt && Gt(e)
  };
  var Yt = ke.__e;
  ke.__e = function(e, t, n, r) {
    if (e.then)
      for (var i, a = t; a = a.__;)
        if ((i = a.__c) && i.__c) return null == t.__e && (t.__e = n.__e, t.__k = n.__k), i.__c(e, t);
    Yt(e, t, n, r)
  };
  var Zt = ke.unmount;

  function Jt(e, t, n) {
    return e && (e.__c && e.__c.__H && (e.__c.__H.__.forEach((function(e) {
      "function" == typeof e.__c && e.__c()
    })), e.__c.__H = null), null != (e = function(e, t) {
      for (var n in t) e[n] = t[n];
      return e
    }({}, e)).__c && (e.__c.__P === n && (e.__c.__P = t), e.__c = null), e.__k = e.__k && e.__k.map((function(e) {
      return Jt(e, t, n)
    }))), e
  }

  function Xt(e, t, n) {
    return e && n && (e.__v = null, e.__k = e.__k && e.__k.map((function(e) {
      return Xt(e, t, n)
    })), e.__c && e.__c.__P === t && (e.__e && n.appendChild(e.__e), e.__c.__e = !0, e.__c.__P = n)), e
  }

  function Kt() {
    this.__u = 0, this.t = null, this.__b = null
  }

  function Qt(e) {
    var t = e.__.__c;
    return t && t.__a && t.__a(e)
  }

  function en() {
    this.u = null, this.o = null
  }
  ke.unmount = function(e) {
    var t = e.__c;
    t && t.__R && t.__R(), t && 32 & e.__u && (e.type = null), Zt && Zt(e)
  }, (Kt.prototype = new Be).__c = function(e, t) {
    var n = t.__c,
      r = this;
    null == r.t && (r.t = []), r.t.push(n);
    var i = Qt(r.__v),
      a = !1,
      o = function() {
        a || (a = !0, n.__R = null, i ? i(s) : s())
      };
    n.__R = o;
    var s = function() {
      if (!--r.__u) {
        if (r.state.__a) {
          var e = r.state.__a;
          r.__v.__k[0] = Xt(e, e.__c.__P, e.__c.__O)
        }
        var t;
        for (r.setState({
            __a: r.__b = null
          }); t = r.t.pop();) t.forceUpdate()
      }
    };
    r.__u++ || 32 & t.__u || r.setState({
      __a: r.__b = r.__v.__k[0]
    }), e.then(o, o)
  }, Kt.prototype.componentWillUnmount = function() {
    this.t = []
  }, Kt.prototype.render = function(e, t) {
    if (this.__b) {
      if (this.__v.__k) {
        var n = document.createElement("div"),
          r = this.__v.__k[0].__c;
        this.__v.__k[0] = Jt(this.__b, n, r.__O = r.__P)
      }
      this.__b = null
    }
    var i = t.__a && Fe(Oe, null, e.fallback);
    return i && (i.__u &= -33), [Fe(Oe, null, t.__a ? null : e.children), i]
  };
  var tn = function(e, t, n) {
    if (++n[1] === n[0] && e.o.delete(t), e.props.revealOrder && ("t" !== e.props.revealOrder[0] || !e.o.size))
      for (n = e.u; n;) {
        for (; n.length > 3;) n.pop()();
        if (n[1] < n[0]) break;
        e.u = n = n[2]
      }
  };
  (en.prototype = new Be).__a = function(e) {
    var t = this,
      n = Qt(t.__v),
      r = t.o.get(e);
    return r[0]++,
      function(i) {
        var a = function() {
          t.props.revealOrder ? (r.push(i), tn(t, e, r)) : i()
        };
        n ? n(a) : a()
      }
  }, en.prototype.render = function(e) {
    this.u = null, this.o = new Map;
    var t = He(e.children);
    e.revealOrder && "b" === e.revealOrder[0] && t.reverse();
    for (var n = t.length; n--;) this.o.set(t[n], this.u = [1, 0, this.u]);
    return e.children
  }, en.prototype.componentDidUpdate = en.prototype.componentDidMount = function() {
    var e = this;
    this.o.forEach((function(t, n) {
      tn(e, n, t)
    }))
  };
  var nn = "undefined" != typeof Symbol && Symbol.for && Symbol.for("react.element") || 60103,
    rn = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,
    an = /^on(Ani|Tra|Tou|BeforeInp|Compo)/,
    on = /[A-Z0-9]/g,
    sn = "undefined" != typeof document,
    ln = function(e) {
      return ("undefined" != typeof Symbol && "symbol" == typeof Symbol() ? /fil|che|rad/ : /fil|che|ra/).test(e)
    };
  Be.prototype.isReactComponent = {}, ["componentWillMount", "componentWillReceiveProps", "componentWillUpdate"].forEach((function(e) {
    Object.defineProperty(Be.prototype, e, {
      configurable: !0,
      get: function() {
        return this["UNSAFE_" + e]
      },
      set: function(t) {
        Object.defineProperty(this, e, {
          configurable: !0,
          writable: !0,
          value: t
        })
      }
    })
  }));
  var cn = ke.event;

  function dn() {}

  function un() {
    return this.cancelBubble
  }

  function pn() {
    return this.defaultPrevented
  }
  ke.event = function(e) {
    return cn && (e = cn(e)), e.persist = dn, e.isPropagationStopped = un, e.isDefaultPrevented = pn, e.nativeEvent = e
  };
  var _n = {
      enumerable: !1,
      configurable: !0,
      get: function() {
        return this.class
      }
    },
    hn = ke.vnode;
  ke.vnode = function(e) {
    "string" == typeof e.type && function(e) {
      var t = e.props,
        n = e.type,
        r = {};
      for (var i in t) {
        var a = t[i];
        if (!("value" === i && "defaultValue" in t && null == a || sn && "children" === i && "noscript" === n || "class" === i || "className" === i)) {
          var o = i.toLowerCase();
          "defaultValue" === i && "value" in t && null == t.value ? i = "value" : "download" === i && !0 === a ? a = "" : "ondoubleclick" === o ? i = "ondblclick" : "onchange" !== o || "input" !== n && "textarea" !== n || ln(t.type) ? "onfocus" === o ? i = "onfocusin" : "onblur" === o ? i = "onfocusout" : an.test(i) ? i = o : -1 === n.indexOf("-") && rn.test(i) ? i = i.replace(on, "-$&").toLowerCase() : null === a && (a = void 0) : o = i = "oninput", "oninput" === o && r[i = o] && (i = "oninputCapture"), r[i] = a
        }
      }
      "select" == n && r.multiple && Array.isArray(r.value) && (r.value = He(t.children).forEach((function(e) {
        e.props.selected = -1 != r.value.indexOf(e.props.value)
      }))), "select" == n && null != r.defaultValue && (r.value = He(t.children).forEach((function(e) {
        e.props.selected = r.multiple ? -1 != r.defaultValue.indexOf(e.props.value) : r.defaultValue == e.props.value
      }))), t.class && !t.className ? (r.class = t.class, Object.defineProperty(r, "className", _n)) : (t.className && !t.class || t.class && t.className) && (r.class = r.className = t.className), e.props = r
    }(e), e.$$typeof = nn, hn && hn(e)
  };
  var mn = ke.__r;
  ke.__r = function(e) {
    mn && mn(e), e.__c
  };
  var fn = ke.diffed;

  function gn() {
    return Dt(gt)
  }
  ke.diffed = function(e) {
    fn && fn(e);
    var t = e.props,
      n = e.__e;
    null != n && "textarea" === e.type && "value" in t && t.value !== n.value && (n.value = null == t.value ? "" : t.value)
  };
  const bn = {
      NONSKIP_ALWAYS: !0
    },
    vn = rt(bn);

  function yn(e) {
    const t = Dt(vn);
    return Lt((() => Boolean(t[e])), [e, t])
  }

  function wn() {
    const e = yn("FORCED_SUB_FORMAT");
    return !(gn() === a.InterstitialFullscreen) && e ? ht : _t
  }
  class kn {
    handlers;
    constructor() {
      this.handlers = []
    }
    on(e, t) {
      if ("function" != typeof t) throw new ue({
        message: "The handler argument must be of type Function. Received type " + typeof t
      });
      if (!e) throw new ue({
        message: "The event argument must be of type String. Received type " + typeof e
      });
      if (!st[e]) throw new ue({
        message: `The event argument must be one of ${Object.keys(st).join(", ")}. Received ${e}`
      });
      return this.handlers.push({
        event: e,
        handler: t
      }), this
    }
    off(e, t) {
      return this.handlers = this.handlers.filter((n => n.event !== e || n.handler !== t)), this
    }
    emit(e) {
      let t = !1;
      for (const n of this.handlers) n.event === e && (t = !0, n.handler());
      return t
    }
    removeAllListeners(e) {
      return e ? (this.handlers = this.handlers.filter((t => t.event !== e)), this) : (this.handlers = [], this)
    }
    hasHandlers(e) {
      return this.handlers.some((({
        event: t
      }) => t === e))
    }
  }
  const xn = rt(new Proxy(new kn, {
    apply() {
      console.warn("EventEmitter not initialized")
    },
    get() {
      console.warn("EventEmitter not initialized")
    }
  }));

  function En() {
    return Dt(xn)
  }
  const An = rt(ve());

  function Tn() {
    return Dt(An)
  }
  const Cn = {
    background: "_background_gvz1l_1",
    "ios-dark": "_ios-dark_gvz1l_10",
    iosDark: "_ios-dark_gvz1l_10",
    "android-dark": "_android-dark_gvz1l_11",
    androidDark: "_android-dark_gvz1l_11",
    "ios-light": "_ios-light_gvz1l_29",
    iosLight: "_ios-light_gvz1l_29",
    "android-light": "_android-light_gvz1l_30",
    androidLight: "_android-light_gvz1l_30",
    preview: "_preview_gvz1l_39"
  };

  function Pn() {
    const {
      bgColor: e
    } = function() {
      const {
        themeParams: e
      } = j();
      return e
    }();
    return !!e && function(e) {
      const t = I(e);
      return Math.sqrt([.299, .587, .114].reduce(((e, n, r) => {
        const i = Number.parseInt(t.slice(1 + 2 * r, 1 + 2 * (r + 1)), 16);
        return e + i * i * n
      }), 0)) < 120
    }(e)
  }

  function Nn(e) {
    const t = e ?? Pn(),
      n = ge(),
      r = "macos" === n || "ios" === n;
    return t ? r ? "iosDark" : "androidDark" : r ? "iosLight" : "androidLight"
  }
  var Sn = 0;

  function Rn(e, t, n, r, i, a) {
    var o, s, l = {};
    for (s in t) "ref" == s ? o = t[s] : l[s] = t[s];
    var c = {
      type: e,
      props: l,
      key: n,
      ref: o,
      __k: null,
      __: null,
      __b: 0,
      __e: null,
      __d: void 0,
      __c: null,
      constructor: void 0,
      __v: --Sn,
      __i: -1,
      __u: 0,
      __source: i,
      __self: a
    };
    if ("function" == typeof e && (o = e.defaultProps))
      for (s in o) void 0 === l[s] && (l[s] = o[s]);
    return ke.vnode && ke.vnode(c), c
  }

  function In() {
    const e = Nn();
    return Rn("div", {
      className: pt(Cn.background, Cn[e], !1)
    })
  }
  const Vn = {
      label: "_label_dbgk3_1",
      text: "_text_dbgk3_19"
    },
    Ln = "https://t.me/+NumBvh9EOiM2MDAy",
    Fn = "https://t.me/+3u3wa8LtNjVkY2Zi";

  function Dn() {
    return "ru" === $() ? Fn : Ln
  }

  function On(e) {
    try {
      const {
        hostname: t
      } = new URL(e);
      return "t.me" === t
    } catch {
      return !1
    }
  }

  function Bn({
    url: e,
    logger: t
  }) {
    try {
      ! function(e) {
        if (On(e)) {
          const {
            pathname: t,
            search: n
          } = new URL(e);
          le(ce())("web_app_open_tg_link", {
            path_full: t + n
          })
        } else le(ce())("web_app_open_link", {
          try_instant_view: !1,
          url: e
        })
      }(e)
    } catch {
      t.add("url", e).send("OpenUrlError", "WARN"), window.open(e, "_blank")
    }
  }
  const Un = "adsgram-label";

  function Mn({}) {
    const e = Tn(),
      t = En(),
      n = Ft((n => {
        n.isTrusted && (n.stopPropagation(), t.emit(at.leave), Bn({
          url: Dn(),
          logger: e
        }))
      }), [t, e]);
    return Rn("div", {
      className: Vn.label,
      onClick: n,
      "data-testid": Un,
      children: Rn("span", {
        className: Vn.text,
        children: "@adsgram_ai – ads in Telegram"
      })
    })
  }
  const zn = {
      footer: "_footer_1rexv_1"
    },
    jn = {
      timer: "_timer_1s77f_1",
      time: "_time_1s77f_1"
    },
    Wn = e => `${e}`.padStart(2, "0"),
    $n = e => {
      const t = e % 60;
      return `${Wn((e-t)/60%60)}:${Wn(t)}`
    },
    Hn = "timer-component";

  function qn({
    timer: e
  }) {
    const t = wn(),
      [n, r] = Rt(t),
      i = Ft(((e, t) => {
        r(t)
      }), []);
    return It((() => {
      e.subscribeOnTimeUpdate(i)
    }), [i, e]), Rn("div", {
      className: jn.timer,
      "data-testid": Hn,
      children: Rn("span", {
        className: jn.time,
        children: $n(n)
      })
    })
  }

  function Gn({
    timer: e
  }) {
    const t = yn("NOT_SHOW_ADSGRAM_LABEL");
    return Rn("div", {
      className: zn.footer,
      children: [Rn(qn, {
        timer: e
      }), !t && Rn(Mn, {})]
    })
  }
  const Yn = ({
      src: e,
      alt: t,
      className: n,
      isCriticalImage: r,
      ...i
    }) => {
      const a = Tn();
      a.add("url", e);
      const o = r ? "Critical" : "";
      return Rn("img", {
        className: n,
        src: e,
        alt: t,
        onError: Ft((() => {
          a.send(`${o}ImageLoadError`)
        }), [o, a]),
        ...i
      })
    },
    Zn = "_kebab_lsgwj_1",
    Jn = "_hidden_lsgwj_7",
    Xn = "_icon_lsgwj_11",
    Kn = "_wrapper_6je2u_1",
    Qn = "_legal-info_6je2u_15",
    er = "_item_19dus_1",
    tr = "_header_19dus_15",
    nr = "_content_19dus_20";

  function rr({
    header: e,
    content: t
  }) {
    return Rn("div", {
      className: er,
      children: [Rn("span", {
        className: tr,
        children: e
      }), Rn("span", {
        className: nr,
        children: t
      })]
    })
  }
  const ir = ({
    kebab: e,
    setIsOpen: t,
    className: n
  }) => {
    const {
      legalName: r,
      inn: i,
      erid: a,
      regNumber: o
    } = e, s = En(), l = Vt(null), c = Ft((e => {
      e.preventDefault(), e.stopPropagation(), l.current && !l.current.contains(e.target) && (t(!1), s.emit("play"), l.current.getRootNode().removeEventListener("click", c, {
        capture: !0
      }))
    }), [s, t]);
    return It((() => {
      l.current && l.current.getRootNode().addEventListener("click", c, {
        capture: !0
      })
    }), [c]), Rn("div", {
      className: pt(Kn, n),
      ref: l,
      "data-testid": "kebab-content",
      children: Rn("div", {
        className: Qn,
        children: [Rn(rr, {
          header: "Юридическое лицо",
          content: r
        }), Rn(rr, {
          header: "ИНН",
          content: i
        }), Rn(rr, {
          header: "ОГРН",
          content: o
        }), Rn(rr, {
          header: "ERID",
          content: a
        })]
      })
    })
  };

  function ar(e) {
    return "string" == typeof e && "" !== e
  }

  function or(e) {
    const {
      legalName: t,
      erid: n,
      regNumber: r,
      inn: i
    } = e;
    return ar(t) && ar(i) && ar(n) && ar(r)
  }
  const sr = qt((({
      kebab: e,
      classNameKebab: t,
      classNameKebabContent: n
    }) => {
      const r = En(),
        [i, a] = Rt(!1),
        o = Ft((() => {
          i || (a(!0), r.emit("pause"))
        }), [r, i]);
      return or(e) ? Rn("div", {
        className: pt(Zn, t),
        onClick: o,
        "data-testid": "kebab",
        children: [Rn("img", {
          className: Xn,
          src: "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.522%208c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202Zm0%202c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2Zm0%206c-1.148%200-2.087.9-2.087%202s.939%202%202.087%202c1.148%200%202.087-.9%202.087-2s-.94-2-2.087-2Z'%20fill='%23fff'/%3e%3c/svg%3e",
          alt: "more info"
        }), i && Rn(ir, {
          className: n,
          kebab: e,
          setIsOpen: a
        })]
      }) : Rn("div", {
        className: pt(Zn, t, Jn)
      })
    })),
    lr = {
      post: "_post_18txr_1",
      show: "_show_18txr_1",
      channel: "_channel_18txr_21",
      icon: "_icon_18txr_29",
      tail: "_tail_18txr_37",
      "android-dark": "_android-dark_18txr_46",
      androidDark: "_android-dark_18txr_46",
      message: "_message_18txr_55",
      image: "_image_18txr_69",
      text: "_text_18txr_77",
      title: "_title_18txr_87",
      description: "_description_18txr_95",
      footer: "_footer_18txr_102",
      name: "_name_18txr_107",
      clickable: "_clickable_18txr_126",
      adlabel: "_adlabel_18txr_131",
      kebab: "_kebab_18txr_141",
      "kebab-content": "_kebab-content_18txr_153",
      kebabContent: "_kebab-content_18txr_153"
    },
    cr = {
      close: "_close_7xq49_1",
      show: "_show_7xq49_1",
      image: "_image_7xq49_18"
    },
    dr = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.295%207.115a.997.997%200%201%200-1.41-1.41L12%2010.59%207.115%205.705a.997.997%200%200%200-1.41%201.41L10.59%2012l-4.885%204.885a.997.997%200%200%200%201.41%201.41L12%2013.41l4.885%204.885a.997.997%200%201%200%201.41-1.41L13.41%2012l4.885-4.885Z'%20fill='%23fff'/%3e%3c/svg%3e";

  function ur() {
    return void 0 !== window.ontouchstart || "ontouchstart" in document.documentElement
  }
  const pr = "post-close-button";

  function _r({
    isCloseVisible: e
  }) {
    const t = En(),
      n = ur(),
      r = gn() === a.InterstitialFullscreen,
      i = Ft((n => {
        e && (n.isTrusted ? (n.preventDefault(), n.stopPropagation(), t.emit(ot.onComplete)) : t.emit(ot.onError))
      }), [t, e]);
    return e && r ? Rn("button", {
      onClick: n ? void 0 : i,
      onTouchStart: n ? i : void 0,
      className: cr.close,
      "data-testid": pr,
      children: Rn("img", {
        className: cr.image,
        src: dr,
        alt: "Close ad button"
      })
    }) : null
  }
  const hr = "Ad · 18+",
    mr = "Реклама · 18+",
    fr = "ad-label",
    gr = "name";

  function br({
    image: e,
    title: t,
    description: n,
    advertiserName: r,
    icon: i,
    onClick: a,
    isClickable: o,
    kebab: s,
    isCloseVisible: l
  }) {
    const c = ur(),
      d = yn("RU_GEO_SHOW") ? mr : hr,
      u = Nn();
    return Rn("div", {
      className: lr.post,
      children: [Rn(_r, {
        isCloseVisible: l
      }), Rn("div", {
        className: lr.channel,
        children: Rn(Yn, {
          src: i,
          alt: "channel",
          className: lr.icon
        })
      }), Rn("div", {
        className: pt(lr.tail, lr[u]),
        children: Rn("svg", {
          fill: "currentColor",
          xmlns: "http://www.w3.org/2000/svg",
          viewBox: "0 0 6 10",
          children: Rn("path", {
            d: "M0 9c4.5-.5 6-5.5 6-9v10H0V9Z"
          })
        })
      }), Rn("div", {
        className: pt(lr.message, lr[u]),
        children: [Rn(sr, {
          kebab: s,
          classNameKebab: lr.kebab,
          classNameKebabContent: lr.kebabContent
        }), Rn(Yn, {
          src: e,
          alt: "Post main",
          className: lr.image,
          isCriticalImage: !0
        }), Rn("div", {
          className: lr.text,
          children: [Rn("h2", {
            className: lr.title,
            children: t
          }), Rn("span", {
            className: lr.description,
            children: n
          }), Rn("div", {
            className: lr.footer,
            children: [Rn("button", {
              className: pt(lr.name, o && lr.clickable),
              onClick: c ? void 0 : a,
              onTouchStart: c ? a : void 0,
              disabled: !o,
              "data-testid": gr,
              children: r
            }), Rn("span", {
              className: lr.adlabel,
              "data-testid": fr,
              children: d
            })]
          })]
        })]
      })]
    })
  }
  const vr = {
      button: "_button_12de8_1",
      show: "_show_12de8_1",
      "ios-light": "_ios-light_12de8_46",
      iosLight: "_ios-light_12de8_46",
      "ios-dark": "_ios-dark_12de8_51",
      iosDark: "_ios-dark_12de8_51",
      icon: "_icon_12de8_62"
    },
    yr = "data:image/svg+xml,%3csvg%20width='14'%20height='14'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.117%203.294V4.94h3.706l-5.147%205.147%201.236%201.235%205.147-5.147v3.706h1.647V3.294H4.117z'%20fill='%23fff'/%3e%3c/svg%3e",
    wr = "data:image/svg+xml,%3csvg%20width='14'%20height='14'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='3.5'%20y='3.5'%20width='7'%20height='7'%20rx='.5'%20stroke='%23fff'/%3e%3cpath%20fill='%23000'%20stroke='%23fff'%20stroke-width='.5'%20d='M4.25%204.25h5.5v.5h-5.5z'/%3e%3c/svg%3e";

  function kr(e) {
    if (On(e)) {
      const {
        pathname: t
      } = new URL(e);
      return /bot\/./i.test(t)
    }
    return !1
  }
  const xr = "post-button";

  function Er({
    buttonName: e,
    onClick: t,
    url: n
  }) {
    const r = ur(),
      i = kr(n) ? wr : yr,
      a = Nn();
    return Rn("button", {
      className: pt(vr.button, vr[a]),
      onClick: r ? void 0 : t,
      onTouchStart: r ? t : void 0,
      "data-testid": xr,
      children: [e, Rn("img", {
        src: i,
        alt: "link-icon",
        className: vr.icon
      })]
    })
  }
  const Ar = {
      ru: "Жми, чтобы забрать награду!",
      en: "Click to get the reward!"
    },
    Tr = {
      tooltip: "_tooltip_bpzve_1",
      show: "_show_bpzve_1",
      title: "_title_bpzve_45"
    },
    Cr = "tooltip";

  function Pr() {
    return Rn("div", {
      className: Tr.tooltip,
      "data-testid": Cr,
      children: Rn("h3", {
        className: Tr.title,
        children: H(Ar)
      })
    })
  }
  const Nr = 2;
  async function Sr(e, t, n = Nr) {
    return "string" != typeof e || "" === e ? (t.add("trackingUrl", JSON.stringify(e)).send("WrongTrackingUrl"), !1) : _e(e, {
      method: "GET",
      cache: "no-cache"
    }, n).then((e => e.ok)).catch((n => (t.addError(n).add("trackingUrl", e).send("APITrackingError"), !1)))
  }

  function Rr(e) {
    const t = window.getComputedStyle(e);
    if ("0px" == t.height || "none" == t.display || "0" == t.opacity || "hidden" == t.visibility || "circle(0px at 50% 50%)" == t.clipPath || "scale(0)" == t.transform || e.hasAttribute("hidden") || "hidden" === document.visibilityState) return !1;
    const n = e.getBoundingClientRect(),
      r = n.left,
      i = n.top,
      a = document.elementFromPoint(r, i);
    if (null != a && !e.isSameNode(a)) {
      const n = t.zIndex,
        r = window.getComputedStyle(a).zIndex;
      if (Number(n) < Number(r)) return !1;
      if ("" === n && "" === r && e.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_FOLLOWING) return !1
    }
    return (n.bottom - n.top) * (n.right - n.left) >= .5 * ((window.innerHeight || document.documentElement.clientHeight) * (window.innerWidth || document.documentElement.clientWidth))
  }

  function Ir(e) {
    const t = Vt(null),
      [n, r] = Rt(!1);
    return It((() => {
      t.current = new IntersectionObserver((([e]) => {
        e.isIntersecting && Rr(e.target) ? r(!0) : r(!1)
      }), {
        root: null,
        rootMargin: "0px",
        threshold: .5
      })
    }), []), It((() => (e.current && t.current && t.current.observe(e.current), () => {
      t.current && (r(!1), t.current.disconnect())
    })), [e]), n
  }
  const Vr = rt(void 0);

  function Lr(e) {
    const t = Dt(Vr);
    return Lt((() => t?.[e] ?? ""), [e, t])
  }

  function Fr() {
    const e = Tn(),
      t = Lr("reward"),
      n = En();
    It((() => {
      const r = () => {
        Sr(t, e)
      };
      return n.on(ot.onReward, r), () => {
        n.off(ot.onReward, r)
      }
    }), [n, t, e])
  }
  class Dr {
    static checkInterval = 100;
    startTime;
    endTime;
    time;
    stopped;
    finished;
    stopTime;
    fromStopToResumeTime;
    onSpecificTimeCallback;
    onTimeUpdateCallback;
    onTickUpdateCallback;
    onEndCallback;
    constructor({
      callbacks: e,
      endTime: t
    }) {
      this.startTime = performance.now(), this.endTime = t, this.time = 0, this.stopped = !1, this.finished = !1, this.stopTime = 0, this.fromStopToResumeTime = 0, this.onSpecificTimeCallback = {};
      for (const n in e) Number.isNaN(Number(n)) || (this.onSpecificTimeCallback[n] = e[n]);
      this.onTimeUpdateCallback = e.onTimeUpdate, this.onTickUpdateCallback = e.onTick, this.onEndCallback = e.endCallback, this.tick()
    }
    get isFinished() {
      return this.finished
    }
    get isStopped() {
      return this.stopped
    }
    get elapsedTime() {
      return this.endTime - this.time
    }
    stop() {
      return this.stopped || (this.stopTime = performance.now(), this.stopped = !0), this.time
    }
    resume() {
      if (this.stopped) {
        const e = performance.now() - this.stopTime;
        this.fromStopToResumeTime += e, this.stopped = !1, this.tick()
      }
    }
    restart() {
      this.time = 0, this.fromStopToResumeTime = performance.now() - this.startTime, this.stopped = !1, this.finished = !1, this.tick()
    }
    subscribeOnSpecificTimeUpdate(e, t) {
      this.onSpecificTimeCallback[e] = t
    }
    subscribeOnTimeUpdate(e) {
      this.onTimeUpdateCallback = e
    }
    subscribeOnTickUpdate(e) {
      this.onTickUpdateCallback = e
    }
    subscribeOnEnd(e) {
      this.onEndCallback = e
    }
    unsubscribeAll() {
      this.onEndCallback = void 0, this.onTimeUpdateCallback = void 0, this.onSpecificTimeCallback = {}, this.onTickUpdateCallback = void 0
    }
    destroy() {
      this.finished = !0, this.unsubscribeAll()
    }
    tick() {
      if (this.stopped || this.finished) return;
      if (performance.now() - this.fromStopToResumeTime - this.startTime > 1e3 * (this.time + 1)) {
        ++this.time, this.onTimeUpdateCallback?.(this.time, this.elapsedTime);
        const e = this.onSpecificTimeCallback[this.time];
        e?.(this.time, this.elapsedTime)
      }
      this.time < this.endTime ? setTimeout(this.tick.bind(this), Dr.checkInterval) : (this.onEndCallback?.(this.time, this.elapsedTime), this.finished = !0), this.onTickUpdateCallback?.(this.time, this.elapsedTime)
    }
  }
  const Or = "_banner_dls25_1",
    Br = rt("");

  function Ur() {
    return Dt(Br)
  }
  const Mr = {
      button: "_button_1j13t_1",
      show: "_show_1j13t_1",
      visible: "_visible_1j13t_35",
      hidden: "_hidden_1j13t_40"
    },
    zr = 15e3,
    jr = 5e3,
    Wr = rt(null);

  function $r() {
    return Dt(Wr)
  }

  function Hr(e) {
    return `${e}-action-button`
  }

  function qr({
    text: e,
    clickUrl: t
  }) {
    const n = Ur(),
      r = $r(),
      i = En(),
      o = Tn(),
      s = gn() === a.InterstitialFullscreen,
      [l, c] = Rt(!1),
      d = Vt(1 / 0);
    It((() => {
      r && r.on("showActionButton", (() => {
        c(!0)
      }))
    }), [r]);
    const u = Ft((e => {
        e.isTrusted && (kr(t) ? r && (r.muted = !0) : (r?.pause(), d.current = Date.now()), i.emit("leave"), Bn({
          url: t,
          logger: o
        }))
      }), [i, t, o, r]),
      p = Ft((() => {
        Date.now() - d.current > zr && i.emit(s ? ot.onComplete : ot.onReward), d.current = 1 / 0
      }), [i, s]);
    return It((() => {
      i.on("return", p)
    }), [i, p]), Rn("button", {
      id: Hr(n),
      className: `${Mr.button} ${l?Mr.visible:Mr.hidden}`,
      onClick: u,
      children: e
    })
  }
  const Gr = {
      footer: "_footer_15eel_1"
    },
    Yr = {
      point: "_point_m3ogu_1"
    };

  function Zr({
    packshotDuration: e
  }) {
    const t = Vt(null),
      n = $r(),
      r = gn() === a.InterstitialFullscreen,
      i = Ft((() => {
        if (t.current && n) {
          const r = n.adDuration + (e ?? 0),
            i = jr / r * 100;
          t.current.style.left = `calc(${i}% - 3px)`, t.current.style.opacity = "1"
        }
      }), [e, n]);
    return It((() => {
      n && r && n.on("adstarted", i)
    }), [r, i, n]), r ? Rn("div", {
      className: Yr.point,
      ref: t
    }) : null
  }
  const Jr = {
    timeline: "_timeline_1iayw_1",
    bar: "_bar_1iayw_11",
    progress: "_progress_1iayw_18"
  };

  function Xr({
    packshotDuration: e
  }) {
    const t = Vt(null),
      n = $r(),
      r = Ft((() => {
        t.current && n && function({
          player: e,
          progress: t,
          packshotDuration: n
        }) {
          const r = e.adDuration + (n ?? 0);
          let i, a, o = !1,
            s = !1;
          e.on("adcomplete", (() => {
            s = !0
          })), e.on("addestroyed", (() => {
            o = !0
          }));
          const l = c => {
            if (s && n) {
              void 0 === i && (i = c);
              const s = c - i;
              if (s >= n && (o = !0), a !== c) {
                const n = (e.adDuration + s) / r * 100;
                t.style.width = `${n}%`
              }
              a = c
            }
            if (!s) {
              const n = e.adCurrentTime / r * 100;
              Number(t.style.width.replace("%", "")) < n && (t.style.width = `${n}%`)
            }
            o || requestAnimationFrame(l)
          };
          requestAnimationFrame(l)
        }({
          player: n,
          progress: t.current,
          packshotDuration: e
        })
      }), [e, n]);
    return It((() => {
      n && n.on("adstarted", r)
    }), [r, n]), Rn("div", {
      className: Jr.timeline,
      children: Rn("div", {
        className: Jr.bar,
        children: [Rn(Zr, {
          packshotDuration: e
        }), Rn("div", {
          className: Jr.progress,
          ref: t
        })]
      })
    })
  }

  function Kr({
    packshotDuration: e
  }) {
    return Rn("div", {
      className: Gr.footer,
      children: Rn(Xr, {
        packshotDuration: e
      })
    })
  }
  const Qr = {
    wrapper: "_wrapper_14j31_1",
    adlabeltext: "_adlabeltext_14j31_15",
    adlabel: "_adlabel_14j31_15",
    tgchannel: "_tgchannel_14j31_29"
  };

  function ei() {
    const e = Tn(),
      t = En(),
      n = yn("NOT_SHOW_ADSGRAM_LABEL"),
      r = yn("RU_GEO_SHOW") ? mr : hr,
      i = Ft((n => {
        n.stopPropagation(), n.preventDefault(), t.emit(at.leave), Bn({
          url: Dn(),
          logger: e
        })
      }), [t, e]);
    return n ? Rn("p", {
      className: Qr.adlabel,
      children: r
    }) : Rn("div", {
      className: Qr.wrapper,
      onClick: i,
      children: [Rn("p", {
        className: Qr.tgchannel,
        children: "@adsgram_ai – ads in Telegram"
      }), Rn("p", {
        className: Qr.adlabeltext,
        children: r
      })]
    })
  }
  const ti = {
    close: "_close_3nvo5_1",
    clickable: "_clickable_3nvo5_9",
    image: "_image_3nvo5_13"
  };

  function ni() {
    const e = $r(),
      t = En(),
      [n, r] = Rt(!1),
      i = gn() === a.InterstitialFullscreen,
      o = Ft((e => {
        n && (e.isTrusted ? (e.preventDefault(), e.stopPropagation(), t.emit(ot.onComplete)) : t.emit(ot.onError))
      }), [t, n]);
    return It((() => {
      e && i && e.on("enableCloseButton", (() => {
        r(!0)
      }))
    }), [i, e]), Rn("div", {
      onClick: o,
      className: pt(ti.close, n && ti.clickable),
      children: Rn("img", {
        className: ti.image,
        src: dr,
        alt: "Close ad button"
      })
    })
  }
  const ri = {
      header: "_header_1ke3p_1",
      container: "_container_1ke3p_14",
      "expanded-header": "_expanded-header_1ke3p_19",
      expandedHeader: "_expanded-header_1ke3p_19",
      "label-container": "_label-container_1ke3p_23",
      labelContainer: "_label-container_1ke3p_23",
      preview: "_preview_1ke3p_33",
      kebab: "_kebab_1ke3p_37",
      "kebab-content": "_kebab-content_1ke3p_45",
      kebabContent: "_kebab-content_1ke3p_45"
    },
    ii = {
      volume: "_volume_10n0w_1"
    },
    ai = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13%205.345c0-1.576-1.92-2.349-3.011-1.213L6.654%207.6H5a3%203%200%200%200-3%203v2.8a3%203%200%200%200%203%203h1.23l3.798%203.703c1.109%201.08%202.972.295%202.972-1.253V5.345ZM5%2014.4h2.044L11%2018.257V5.966L7.505%209.6H5a1%201%200%200%200-1%201v2.8a1%201%200%200%200%201%201Z'%20fill='%23fff'/%3e%3cpath%20d='M16.707%208.793a1%201%200%201%200-1.414%201.414L17.086%2012l-1.793%201.793a1%201%200%200%200%201.414%201.414l1.793-1.793%201.793%201.793a1%201%200%200%200%201.414-1.414L19.914%2012l1.793-1.793a1%201%200%200%200-1.414-1.414L18.5%2010.586l-1.793-1.793Z'%20fill='%23fff'/%3e%3c/svg%3e",
    oi = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.807%203.39a1%201%200%200%201%201.324-.497%2010%2010%200%200%201%20.253%2018.095%201%201%200%201%201-.877-1.797%208%208%200%200%200-.202-14.476%201%201%200%200%201-.498-1.324Z'%20fill='%23fff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.989%204.132C11.08%202.996%2013%203.769%2013%205.345V18.85c0%201.548-1.863%202.334-2.972%201.253L6.231%2016.4H5a3%203%200%200%201-3-3v-2.8a3%203%200%200%201%203-3h1.654l3.335-3.468ZM7.044%2014.4H5a1%201%200%200%201-1-1v-2.8a1%201%200%200%201%201-1h2.505L11%205.966v12.29L7.044%2014.4Z'%20fill='%23fff'/%3e%3cpath%20d='M16.479%206.536a1%201%200%200%200-.827%201.821%204%204%200%200%201%20.102%207.238%201%201%200%200%200%20.876%201.798%206%206%200%200%200-.151-10.857Z'%20fill='%23fff'/%3e%3c/svg%3e",
    si = "volume-button";

  function li() {
    const e = $r(),
      [t, n] = Rt(!1);
    It((() => {
      e && n(e.muted)
    }), [e]);
    return Rn("div", {
      onClick: Ft((() => {
        e.muted = !t, n((e => !e))
      }), [t, e]),
      className: ii.volume,
      "data-testid": si,
      children: Rn("img", t ? {
        src: ai,
        alt: "unmute"
      } : {
        src: oi,
        alt: "mute"
      })
    })
  }

  function ci({
    kebab: e
  }) {
    const t = gn() === a.InterstitialFullscreen,
      n = or(e);
    return Rn("div", {
      className: pt(ri.header, !1, {
        [ri.expandedHeader]: t && n
      }),
      children: [Rn("div", {
        className: ri.container,
        children: Rn(li, {})
      }), Rn("div", {
        className: ri.labelContainer,
        children: Rn(ei, {})
      }), Rn("div", {
        className: ri.container,
        children: [n && Rn(sr, {
          kebab: e,
          classNameKebab: ri.kebab,
          classNameKebabContent: ri.kebabContent
        }), t && Rn(ni, {})]
      })]
    })
  }
  const di = {
    packshot: "_packshot_1eu44_1",
    creatives: "_creatives_1eu44_23",
    image: "_image_1eu44_35",
    title: "_title_1eu44_44",
    description: "_description_1eu44_54",
    play: "_play_1eu44_63",
    pause: "_pause_1eu44_68"
  };

  function ui({
    image: e,
    title: t,
    description: n,
    duration: r,
    clickUrl: i
  }) {
    const o = $r(),
      s = Tn(),
      l = En(),
      c = gn() === a.InterstitialFullscreen,
      [d, u] = Rt(!1),
      p = Vt(null);
    return It((() => {
      const e = () => {
        u(!0), p.current = new Dr({
          callbacks: {
            endCallback: () => {
              l.emit(c ? ot.onComplete : ot.onReward)
            }
          },
          endTime: r / 1e3
        })
      };
      return o && o.on("adcomplete", e), () => {
        o && o.off("adcomplete", e)
      }
    }), [l, r, c, s, o, i]), It((() => {
      const e = () => {
          p.current?.destroy()
        },
        t = () => {
          p.current?.resume()
        },
        n = () => {
          p.current?.stop()
        };
      return l.on(at.finalDestroy, e), l.on(at.play, t), l.on(at.pause, n), () => {
        l.off(at.finalDestroy, e), l.off(at.play, t), l.off(at.pause, n)
      }
    }), [l, p]), Rn("div", {
      className: `${di.packshot} ${d?di.play:di.pause}`,
      children: Rn("div", {
        className: `${di.creatives} ${d?di.play:di.pause}`,
        children: [Rn(Yn, {
          className: di.image,
          src: e,
          alt: "app icon"
        }), Rn("span", {
          className: di.title,
          children: t
        }), Rn("span", {
          className: di.description,
          children: n
        })]
      })
    })
  }
  const pi = {
    childByName: function(e, t) {
      const n = e.childNodes;
      for (const r in n) {
        const e = n[r];
        if (e.nodeName === t) return e
      }
    },
    childrenByName: function(e, t) {
      const n = [],
        r = e.childNodes;
      for (const i in r) {
        const e = r[i];
        e.nodeName === t && n.push(e)
      }
      return n
    },
    parseBoolean: function(e) {
      return -1 !== ["true", "TRUE", "True", "1"].indexOf(e)
    },
    parseNodeText: function(e) {
      return e && (e.textContent || e.text || "").trim()
    },
    copyNodeAttribute: function(e, t, n) {
      const r = t.getAttribute(e);
      r && n.setAttribute(e, r)
    },
    parseAttributes: function(e) {
      const t = e.attributes,
        n = {};
      for (let r = 0; r < t.length; r++) n[t[r].nodeName] = t[r].nodeValue;
      return n
    },
    parseDuration: function(e) {
      if (null == e) return -1;
      const t = e.split(":");
      if (3 !== t.length) return -1;
      const n = t[2].split(".");
      let r = parseInt(n[0]);
      2 === n.length && (r += parseFloat(`0.${n[1]}`));
      const i = parseInt(60 * t[1]),
        a = parseInt(60 * t[0] * 60);
      return isNaN(a) || isNaN(i) || isNaN(r) || i > 3600 || r > 60 ? -1 : a + i + r
    }
  };

  function _i(e, t) {
    let n;
    const r = function(e = {}) {
      const {
        id: t,
        adId: n,
        apiFramework: r
      } = function(e = {}) {
        return {
          id: e.id || null,
          adId: e.adId || null,
          apiFramework: e.apiFramework || null,
          universalAdIds: [],
          creativeExtensions: []
        }
      }(e);
      return {
        id: t,
        adId: n,
        apiFramework: r,
        type: "linear",
        duration: 0,
        skipDelay: null,
        mediaFiles: [],
        videoClickThroughURLTemplate: null,
        videoClickTrackingURLTemplates: [],
        videoCustomClickURLTemplates: [],
        trackingEvents: {}
      }
    }(t);
    r.duration = pi.parseDuration(pi.parseNodeText(pi.childByName(e, "Duration")));
    const i = e.getAttribute("skipoffset");
    if (null == i) r.skipDelay = null;
    else if ("%" === i.charAt(i.length - 1) && -1 !== r.duration) {
      const e = parseInt(i, 10);
      r.skipDelay = r.duration * (e / 100)
    } else r.skipDelay = pi.parseDuration(i);
    const a = pi.childByName(e, "VideoClicks");
    if (a) {
      const e = pi.childByName(a, "ClickThrough");
      r.videoClickThroughURLTemplate = e ? {
        id: e.getAttribute("id") || null,
        url: pi.parseNodeText(e)
      } : null, pi.childrenByName(a, "ClickTracking").forEach((e => {
        r.videoClickTrackingURLTemplates.push({
          id: e.getAttribute("id") || null,
          url: pi.parseNodeText(e)
        })
      }))
    }
    return pi.childrenByName(e, "TrackingEvents").forEach((e => {
      pi.childrenByName(e, "Tracking").forEach((e => {
        let t = e.getAttribute("event");
        const i = pi.parseNodeText(e);
        if (t && i) {
          if ("progress" === t) {
            if (n = e.getAttribute("offset"), !n) return;
            t = "%" === n.charAt(n.length - 1) ? `progress-${n}` : `progress-${Math.round(pi.parseDuration(n))}`
          }
          Array.isArray(r.trackingEvents[t]) || (r.trackingEvents[t] = []), r.trackingEvents[t].push(i)
        }
      }))
    })), pi.childrenByName(e, "MediaFiles").forEach((e => {
      pi.childrenByName(e, "MediaFile").forEach((e => {
        r.mediaFiles.push(function(e) {
          const t = {
            id: null,
            fileURL: null,
            fileSize: 0,
            deliveryType: "progressive",
            mimeType: null,
            mediaType: null,
            codec: null,
            bitrate: 0,
            minBitrate: 0,
            maxBitrate: 0,
            width: 0,
            height: 0,
            apiFramework: null,
            scalable: null,
            maintainAspectRatio: null
          };
          t.id = e.getAttribute("id"), t.fileURL = pi.parseNodeText(e), t.deliveryType = e.getAttribute("delivery"), t.codec = e.getAttribute("codec"), t.mimeType = e.getAttribute("type"), t.mediaType = e.getAttribute("mediaType") || "2D", t.apiFramework = e.getAttribute("apiFramework"), t.fileSize = parseInt(e.getAttribute("fileSize") || 0), t.bitrate = parseInt(e.getAttribute("bitrate") || 0), t.minBitrate = parseInt(e.getAttribute("minBitrate") || 0), t.maxBitrate = parseInt(e.getAttribute("maxBitrate") || 0), t.width = parseInt(e.getAttribute("width") || 0), t.height = parseInt(e.getAttribute("height") || 0);
          const n = e.getAttribute("scalable");
          n && "string" == typeof n && (t.scalable = pi.parseBoolean(n));
          const r = e.getAttribute("maintainAspectRatio");
          r && "string" == typeof r && (t.maintainAspectRatio = pi.parseBoolean(r));
          return t
        }(e))
      }))
    })), r
  }

  function hi(e) {
    const t = [];
    return e.forEach((e => {
      const n = mi(e);
      n && t.push(n)
    })), t
  }

  function mi(e) {
    if ("#comment" === e.nodeName) return null;
    const t = {
        name: null,
        value: null,
        attributes: {},
        children: []
      },
      n = e.attributes,
      r = e.childNodes;
    if (t.name = e.nodeName, e.attributes)
      for (const a in n)
        if (n.hasOwnProperty(a)) {
          const e = n[a];
          e.nodeName && e.nodeValue && (t.attributes[e.nodeName] = e.nodeValue)
        } for (const a in r)
      if (r.hasOwnProperty(a)) {
        const e = mi(r[a]);
        e && t.children.push(e)
      } if (0 === t.children.length || 1 === t.children.length && ["#cdata-section", "#text"].indexOf(t.children[0].name) >= 0) {
      const n = pi.parseNodeText(e);
      "" !== n && (t.value = n), t.children = []
    }
    return null === (i = t).value && 0 === Object.keys(i.attributes).length && 0 === i.children.length ? null : t;
    var i
  }

  function fi(e) {
    const t = [];
    return e.forEach((e => {
      const n = {
          id: e.getAttribute("id") || null,
          adId: gi(e),
          apiFramework: e.getAttribute("apiFramework") || null
        },
        r = [];
      let i;
      pi.childrenByName(e, "UniversalAdId").forEach((e => {
        const t = {
          idRegistry: e.getAttribute("idRegistry") || "unknown",
          value: pi.parseNodeText(e)
        };
        r.push(t)
      }));
      const a = pi.childByName(e, "CreativeExtensions");
      a && (i = hi(pi.childrenByName(a, "CreativeExtension")));
      for (const o in e.childNodes) {
        const a = e.childNodes[o];
        let s;
        switch (a.nodeName) {
          case "Linear":
            s = _i(a, n);
            break;
          case "NonLinearAds":
            throw new Error("NonLinear ads are not supported");
          case "CompanionAds":
            throw new Error("CompanionAds ads are not supported")
        }
        s && (r && (s.universalAdIds = r), i && (s.creativeExtensions = i), t.push(s))
      }
    })), t
  }

  function gi(e) {
    return e.getAttribute("AdID") || e.getAttribute("adID") || e.getAttribute("adId") || null
  }
  const bi = {
    Wrapper: {
      subElements: ["VASTAdTagURI", "Impression"]
    },
    InLine: {
      subElements: ["AdSystem", "AdTitle", "Impression", "AdServingId", "Creatives"]
    },
    UniversalAdId: {
      attributes: ["idRegistry"]
    },
    Tracking: {
      attributes: ["event"]
    },
    Creatives: {
      subElements: ["Creative"]
    },
    Creative: {
      subElements: ["UniversalAdId"]
    },
    Linear: {
      subElements: ["MediaFiles", "Duration"]
    },
    MediaFiles: {
      subElements: ["MediaFile"]
    },
    MediaFile: {
      attributes: ["delivery", "type", "width", "height"]
    },
    StaticResource: {
      attributes: ["creativeType"]
    }
  };

  function vi(e, t) {
    if (!bi[e.nodeName] || !bi[e.nodeName].attributes) return;
    const n = bi[e.nodeName].attributes.filter((t => !e.getAttribute(t)));
    n.length > 0 && ki({
      name: e.nodeName,
      parentName: e.parentNode.nodeName,
      attributes: n
    }, t)
  }

  function yi(e, t, n) {
    const r = bi[e.nodeName],
      i = !n && "Wrapper" !== e.nodeName;
    if (!r || i) return;
    if (r.subElements) {
      const n = r.subElements.filter((t => !pi.childByName(e, t)));
      n.length > 0 && ki({
        name: e.nodeName,
        parentName: e.parentNode.nodeName,
        subElements: n
      }, t)
    }
    if (!n || !r.oneOfinLineResources) return;
    r.oneOfinLineResources.some((t => pi.childByName(e, t))) || ki({
      name: e.nodeName,
      parentName: e.parentNode.nodeName,
      oneOfResources: r.oneOfinLineResources
    }, t)
  }

  function wi(e) {
    return e.children && 0 !== e.children.length
  }

  function ki({
    name: e,
    parentName: t,
    attributes: n,
    subElements: r,
    oneOfResources: i
  }, a) {
    let o = `Element '${e}'`;
    o += n ? ` missing required attribute(s) '${n.join(", ")}' ` : r ? ` missing required sub element(s) '${r.join(", ")}' ` : i ? ` must provide one of the following '${i.join(", ")}' ` : " is empty", a("VAST-warning", {
      message: o,
      parentElement: t,
      specVersion: 4.1
    })
  }
  const xi = {
    verifyRequiredValues: function e(t, n, r) {
      if (t && t.nodeName)
        if ("InLine" === t.nodeName && (r = !0), vi(t, n), wi(t)) {
          yi(t, n, r);
          for (let i = 0; i < t.children.length; i++) e(t.children[i], n, r)
        } else 0 === pi.parseNodeText(t).length && ki({
          name: t.nodeName,
          parentName: t.parentNode.nodeName
        }, n)
    },
    hasSubElements: wi,
    emitMissingValueWarning: ki,
    verifyRequiredAttributes: vi,
    verifyRequiredSubElements: yi
  };

  function Ei(e, t) {
    const n = e.childNodes;
    for (const r in n) {
      const i = n[r];
      if (-1 !== ["InLine"].indexOf(i.nodeName)) return pi.copyNodeAttribute("id", e, i), pi.copyNodeAttribute("adType", e, i), {
        ad: Ai(i, t),
        type: "INLINE"
      }
    }
  }

  function Ai(e, t) {
    return function(e, t) {
      t && xi.verifyRequiredValues(e, t);
      const n = e.childNodes,
        r = function(e = {}) {
          return {
            id: e.id || null,
            adType: e.adType || null,
            adServingId: null,
            system: null,
            title: null,
            description: null,
            errorURLTemplates: [],
            impressionURLTemplates: [],
            creatives: [],
            extensions: [],
            followAdditionalWrappers: !0,
            allowMultipleAds: !1,
            fallbackOnNoAd: null
          }
        }(pi.parseAttributes(e));
      for (const i in n) {
        const e = n[i];
        switch (e.nodeName) {
          case "Error":
            r.errorURLTemplates.push(pi.parseNodeText(e));
            break;
          case "Impression":
            r.impressionURLTemplates.push({
              id: e.getAttribute("id") || null,
              url: pi.parseNodeText(e)
            });
            break;
          case "Creatives":
            r.creatives = fi(pi.childrenByName(e, "Creative"));
            break;
          case "Extensions": {
            const t = pi.childrenByName(e, "Extension");
            r.extensions = hi(t);
            break
          }
          case "AdSystem":
            r.system = {
              value: pi.parseNodeText(e),
              version: e.getAttribute("version") || null
            };
            break;
          case "AdTitle":
            r.title = pi.parseNodeText(e);
            break;
          case "AdServingId":
            r.adServingId = pi.parseNodeText(e);
            break;
          case "Description":
            r.description = pi.parseNodeText(e)
        }
      }
      return r
    }(e, t)
  }
  const Ti = ["MEDIAPLAYHEAD", "TIMESTAMP"];

  function Ci(e, t) {
    const n = (e = Pi(e, t)).match(/[^[\]]+(?=])/g);
    if (!n) return e;
    let r = n.filter((e => Ti.indexOf(e) > -1));
    return 0 === r.length ? e : (r = r.reduce(((e, t) => (e[t] = -1, e)), {}), Pi(e, r))
  }

  function Pi(e, t) {
    let n = e;
    for (const r in t) {
      const e = t[r];
      n = n.replace(new RegExp(`(?:\\[|%%)(${r})(?:\\]|%%)`, "g"), e)
    }
    return n
  }

  function Ni(e) {
    return encodeURIComponent(e).replace(/[!'()*]/g, (e => `%${e.charCodeAt(0).toString(16)}`))
  }
  const Si = {
      track: function(e, t, n) {
        (function(e, t = {}, n = {}) {
          const r = [],
            i = function(e) {
              if (Array.isArray(e)) return e.map((e => e && e.hasOwnProperty("url") ? e.url : e));
              return e
            }(e);
          !t.ERRORCODE || n.isCustomCode || /^[0-9]{3}$/.test(t.ERRORCODE) || (t.ERRORCODE = 900);
          t.TIMESTAMP = (new Date).toISOString();
          for (const a in t) t[a] = Ni(t[a]);
          for (const a in i) {
            const e = i[a];
            "string" == typeof e && r.push(Ci(e, t))
          }
          return r
        })(e, t, n).forEach((e => {
          if ("undefined" != typeof window && null !== window) {
            (new Image).src = e
          }
        }))
      }
    },
    Ri = {
      ERRORCODE: 900,
      extensions: []
    };
  class Ii {
    constructor(e) {
      this.remainingAds = [], this.errorURLTemplates = [], this.rootErrorURLTemplates = [], this.URLTemplateFilters = [], this.emit = (t, n) => {
        e(t, n)
      }
    }
    _trackVastError(e, t, ...n) {
      this.emit("VAST-error", Object.assign({}, Ri, t, ...n)), Si.track(e, t)
    }
    _getErrorURLTemplates() {
      return this.rootErrorURLTemplates.concat(this.errorURLTemplates)
    }
    _initParsingStatus() {
      this.errorURLTemplates = [], this.remainingAds = [], this.rootErrorURLTemplates = [], this.vastVersion = null
    }
    parseVAST(e) {
      return this._initParsingStatus(), this._parse(e).then((e => this.buildVASTResponse(e)))
    }
    buildVASTResponse(e) {
      const t = {
        ads: e,
        errorURLTemplates: this._getErrorURLTemplates(),
        version: this.vastVersion
      };
      return this._reportPossibleParsingErrors(t), t
    }
    _parseVastXml(e) {
      if (!e || !e.documentElement || "VAST" !== e.documentElement.nodeName) throw this.emit("VAST-ad-parsed", {
        type: "ERROR"
      }), new Error("Invalid VAST XMLDocument");
      const t = [],
        n = e.documentElement.childNodes,
        r = e.documentElement.getAttribute("version");
      r && (this.vastVersion = r);
      for (const i in n) {
        const e = n[i];
        if ("Error" === e.nodeName) {
          const t = pi.parseNodeText(e);
          this.rootErrorURLTemplates.push(t)
        } else if ("Ad" === e.nodeName) {
          if (t.length > 1) throw new Error("VAST document must contain one Ad");
          const n = Ei(e, this.emit.bind(this));
          n.ad ? (t.push(n.ad), this.emit("VAST-ad-parsed", {
            type: n.type
          })) : this._trackVastError(this._getErrorURLTemplates(), {
            ERRORCODE: 101
          })
        }
      }
      return t
    }
    _parse(e) {
      let t = [];
      try {
        t = this._parseVastXml(e)
      } catch (n) {
        return Promise.reject(n)
      }
      return Promise.resolve(t)
    }
    _reportPossibleParsingErrors(e) {
      if (0 === e.ads.length) this._trackVastError(e.errorURLTemplates, {
        ERRORCODE: 303
      });
      else
        for (let t = e.ads.length - 1; t >= 0; t--) {
          const n = e.ads[t];
          (n.errorCode || 0 === n.creatives.length) && (this._trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates), {
            ERRORCODE: n.errorCode || 303
          }, {
            ERRORMESSAGE: n.errorMessage || ""
          }, {
            extensions: n.extensions
          }, {
            system: n.system
          }), e.ads.splice(t, 1))
        }
    }
  }
  class Vi {
    constructor() {}
    _getConnectionType() {
      if ("string" == typeof navigator.connection.type && "" !== navigator.connection.type) switch (navigator.connection.type) {
        case "ethernet":
          return "ethernet";
        case "wifi":
        case "wimax":
          return "wifi";
        case "bluetooth":
        case "cellular":
          return "cellular";
        case "none":
          return "none"
      }
      return "unknown"
    }
    _getBandwidthEstimate() {
      if ("number" == typeof navigator.connection.downlink && navigator.connection.downlink > 0) return navigator.connection.downlink;
      if ("string" == typeof navigator.connection.effectiveType && "" !== navigator.connection.effectiveType) switch (navigator.connection.effectiveType) {
        case "slow-2g":
          return .025;
        case "2g":
          return .035;
        case "3g":
          return .35;
        case "4g":
          return 1.4
      } else if ("string" == typeof navigator.connection.type && "" !== navigator.connection.type) switch (navigator.connection.type) {
        case "ethernet":
        case "wifi":
        case "wimax":
          return 1.4;
        case "bluetooth":
        case "cellular":
          return .35;
        case "none":
          return -1
      }
      return .025
    }
    get bandwidthData() {
      const e = {
        estimate: -1,
        connectionType: "none"
      };
      return void 0 === navigator.onLine || navigator.onLine ? void 0 === navigator.connection ? {
        estimate: 1.1,
        connectionType: "unknown"
      } : {
        estimate: this._getBandwidthEstimate(),
        connectionType: this._getConnectionType()
      } : e
    }
  }
  class Li {
    static _filterVersion(e) {
      if (navigator.userAgent) {
        const t = navigator.userAgent.match(e);
        if (Array.isArray(t) && void 0 !== t[1]) return parseInt(t[1], 10)
      }
      return -1
    }
    static get _testVideo() {
      return document.createElement("video")
    }
    static get hasTouchEvents() {
      return !!(void 0 !== window.ontouchstart || window.DocumentTouch && document instanceof window.DocumentTouch)
    }
    static get userAgent() {
      return navigator.userAgent ? navigator.userAgent : null
    }
    static get devicePixelRatio() {
      let e = 1;
      return Number.isFinite(window.devicePixelRatio) && window.devicePixelRatio > 1 && (e = window.devicePixelRatio), e
    }
    static get maxTouchPoints() {
      return "number" == typeof navigator.maxTouchPoints ? navigator.maxTouchPoints : -1
    }
    static get isIos() {
      const e = /os\s+(\d+)_/i;
      let t = [!1, -1];
      return /(ipad|iphone|ipod)/i.test(Li.userAgent) && Li.hasTouchEvents && (t = [!0, Li._filterVersion(e)]), t
    }
    static get isIpadOS() {
      return !!(!Li.isIos[0] && Li.hasTouchEvents && /macintel/i.test(navigator.platform) && Li.devicePixelRatio > 1 && Li.maxTouchPoints > 1)
    }
    static get isMacOS() {
      const e = /mac\s+os\s+x\s+(\d+)_(\d+)/i;
      let t = !1,
        n = -1;
      return Li.isIos[0] || Li.isIpadOS || !/(macintosh|mac\s+os)/i.test(Li.userAgent) || (t = !0, n = Li._filterVersion(e, !0)), [t, n]
    }
    static get isSafari() {
      const e = /version\/(\d+)\./i;
      let t = !1,
        n = -1;
      return /safari\/[.0-9]*/i.test(Li.userAgent) && !/(chrome|chromium|android|crios|fxios)/i.test(Li.userAgent) && (t = !0, n = Li._filterVersion(e)), [t, n]
    }
    static get isMacOSSafari() {
      return Li.isMacOS[0] && Li.isSafari[0]
    }
    static get isAndroid() {
      const e = /android\s*(\d+)\./i;
      let t = [!1, -1];
      return !Li.isIos[0] && Li.hasTouchEvents && /android/i.test(Li.userAgent) && (t = [!0, Li._filterVersion(e)]), t
    }
    static get isMobile() {
      return !!(Li.isIos[0] || Li.isAndroid[0] || Li.isIpadOS)
    }
    static get hasNativeFullscreenSupport() {
      const e = document.documentElement,
        t = Li._testVideo;
      return !(!e || void 0 === e.requestFullscreen && void 0 === e.webkitRequestFullscreen && void 0 === e.mozRequestFullScreen && void 0 === e.msRequestFullscreen && void 0 === t.webkitEnterFullscreen)
    }
    static checkCanPlayType(e, t) {
      const n = Li._testVideo;
      if ("undefined" !== n.canPlayType) {
        if ((Li.isSafari[0] || Li.isIpadOS[0] || Li.isIos[0]) && "video/webm" === e) return !1;
        if (e && t) {
          let i;
          try {
            i = n.canPlayType(`${e}; codecs="${t}"`)
          } catch (r) {
            return i = n.canPlayType(e), "probably" === i
          }
          if ("" !== i) return !0
        } else if (e && !t) {
          if ("" !== n.canPlayType(e)) return !0
        }
      }
      return !1
    }
  }
  class Fi {
    static _getStyleAttributeData(e, t) {
      let n = 0;
      const r = window.getComputedStyle(e, null);
      return r && (n = r.getPropertyValue(t), n = n.toString().toLowerCase()), parseFloat(n)
    }
    static getWidth(e) {
      return e ? Number.isFinite(e.offsetWidth) && 0 !== e.offsetWidth ? e.offsetWidth : Fi._getStyleAttributeData(e, "width") : 0
    }
    static getHeight(e) {
      return e ? Number.isFinite(e.offsetHeight) && 0 !== e.offsetHeight ? e.offsetHeight : Fi._getStyleAttributeData(e, "height") : 0
    }
    static show(e) {
      e && (e.style.display = "block")
    }
    static hide(e) {
      e && (e.style.display = "none")
    }
    static get consoleStyle() {
      return "color: white; background-color: #00ACC1; padding:1px 3px; border-radius: 3px; margin-right: 7px"
    }
    static get consoleStyle2() {
      return "color: white; background-color: #FB8C00; padding:1px 3px; border-radius: 3px; margin-right: 7px"
    }
    static get consolePrepend() {
      return navigator && navigator.userAgent && /(edge|xbox|msie|trident)/i.test(navigator.userAgent) ? "RMP-VAST:" : "%crmp-vast%c"
    }
    static logVideoEvents(e, t) {
      ["loadstart", "durationchange", "playing", "waiting", "loadedmetadata", "loadeddata", "canplay", "canplaythrough"].forEach((t => {
        e.addEventListener(t, (e => {
          e && e.type
        }))
      }))
    }
    static ajax(e, t, n, r = 0) {
      return new Promise(((i, a) => {
        const o = new XMLHttpRequest;
        o.open("GET", e, !0), o.timeout = t, n && (o.withCredentials = !0), o.onloadend = () => {
          "number" == typeof o.status && o.status >= 200 && o.status < 300 ? i("XMLHttpRequest request succeeded") : r < 1 || "number" != typeof r ? a(`XMLHttpRequest wrong status code: ${o.status}`) : Fi.ajax(e, t, n, r - 1)
        }, o.ontimeout = () => {
          r < 1 || "number" != typeof r ? a("XMLHttpRequest timeout") : Fi.ajax(e, t, n, r - 1)
        }, o.send(null)
      }))
    }
  }
  class Di {
    static _dispatch(e) {
      const t = this.trackingTags.filter((t => e === t.event));
      t.length > 0 && t.forEach((e => {
        Di.pingURI.call(this, e.url)
      }))
    }
    static _vastReadableTime(e) {
      if (!Number.isFinite(e) || e < 0) return "00:00:00.000";
      const t = (e, t = 2) => String(e).padStart(t, "0"),
        n = t(Math.floor(e % 1e3), 3);
      let r = Math.floor(e / 1e3);
      const i = Math.floor(r / 60),
        a = Math.floor(i / 60);
      r %= 60;
      const o = t(r),
        s = t(i % 60);
      return `${t(a>23?0:a)}:${s}:${o}.${n}`
    }
    static _ping(e) {
      Fi.ajax(e, this.params.ajaxTimeout, !1, 2).then((() => {})).catch((e => {}))
    }
    static _onVolumeChange() {
      this.__adPlayer.muted || 0 === this.__adPlayer.volume ? (Oi.createApiEvent.call(this, "advolumemuted"), Di.dispatch.call(this, "mute")) : !this.__adPlayer.muted && this.__adPlayer.volume > 0 && Di.dispatch.call(this, "unmute"), Oi.createApiEvent.call(this, "advolumechanged")
    }
    static _onTimeupdate() {
      let e = -1,
        t = -1;
      this.rmpVastAdPlayer && (t = this.rmpVastAdPlayer.currentTime, e = this.rmpVastAdPlayer.duration), t > 0 && e > 0 && e > t && (t >= .25 * e && !this.firstQuartileEventFired ? (this.firstQuartileEventFired = !0, Oi.createApiEvent.call(this, "adfirstquartile"), Di.dispatch.call(this, "firstQuartile")) : t >= .5 * e && !this.midpointEventFired ? (this.midpointEventFired = !0, Oi.createApiEvent.call(this, "admidpoint"), Di.dispatch.call(this, "midpoint")) : t >= .75 * e && !this.thirdQuartileEventFired && (this.thirdQuartileEventFired = !0, Oi.createApiEvent.call(this, "adthirdquartile"), Di.dispatch.call(this, "thirdQuartile")), t >= 2e3 && !this.progressEventFired && (this.progressEventFired = !0, Oi.createApiEvent.call(this, "adprogress"), Di.dispatch.call(this, "progress-2")), Object.entries(this.params.timeEvents).forEach((([n, r]) => {
        if (!this.timeEventsFired[n]) {
          (r < 0 && t >= e + r || r >= 0 && t >= r) && (this.timeEventsFired[n] = !0, Oi.createApiEvent.call(this, n))
        }
      })))
    }
    static _onPause() {
      if (this.__adPlayer && this.__adPlayer.paused) {
        if (this.__adPlayer.currentTime === this.__adPlayer.duration) return;
        Oi.createApiEvent.call(this, "adpaused"), Di.dispatch.call(this, "pause")
      }
    }
    static _onPlay() {
      this.__adPlayer && !this.__adPlayer.paused && 0 !== this.__adPlayer.currentTime && (Oi.createApiEvent.call(this, "adresumed"), Di.dispatch.call(this, "resume"))
    }
    static _onPlaying() {
      Oi.createApiEvent.call(this, ["adimpression", "adstarted"]), Di.dispatch.call(this, ["start", "creativeView", "impression"])
    }
    static _onEnded() {
      Oi.createApiEvent.call(this, "adcomplete"), Di.dispatch.call(this, "complete"), this.rmpVastAdPlayer && (this.params.pauseOnEnd ? this.__adPlayer.pause() : this.rmpVastAdPlayer.destroy())
    }
    static replaceMacros(e) {
      if (!/\[.+?\]/i.test(e)) return e;
      let t = e;
      const n = /\[TIMESTAMP\]/gi,
        r = (new Date).toISOString();
      n.test(t) && (t = t.replace(n, encodeURIComponent(r)));
      const i = /\[MEDIAPLAYHEAD\]/gi;
      let a = -1;
      return this.rmpVastAdPlayer && (a = this.rmpVastAdPlayer.currentTime), i.test(t) && a > -1 && (t = t.replace(i, encodeURIComponent(Di._vastReadableTime(a)))), t
    }
    static pingURI(e) {
      const t = Di.replaceMacros.call(this, e);
      Di._ping.call(this, t)
    }
    static error(e, t) {
      let n = this.adErrorTags;
      303 === e && this.vastErrorTags.length > 0 && (n = [...n, ...this.vastErrorTags]), n.length > 0 && n.forEach((n => {
        if (n.url) {
          let r = n.url;
          const i = /\[ERRORCODE\]/gi;
          if (i.test(r) && Number.isFinite(e) && e > 0 && e < 1e3 && (r = r.replace(i, e)), t) {
            const e = JSON.stringify(t),
              n = encodeURIComponent(e),
              i = `${r}${-1!==r.indexOf("?")?"&":"?"}extra=${n}`;
            r = i
          }
          Di._ping.call(this, r)
        }
      }))
    }
    static dispatch(e) {
      Array.isArray(e) ? e.forEach((e => {
        Di._dispatch.call(this, e)
      })) : Di._dispatch.call(this, e)
    }
    static destroy() {
      this.__adPlayer && (this.__adPlayer.removeEventListener("pause", this.onPauseFn), this.__adPlayer.removeEventListener("play", this.onPlayFn), this.__adPlayer.removeEventListener("playing", this.onPlayingFn), this.__adPlayer.removeEventListener("ended", this.onEndedFn), this.__adPlayer.removeEventListener("volumechange", this.onVolumeChangeFn), this.__adPlayer.removeEventListener("timeupdate", this.onTimeupdateFn))
    }
    static wire() {
      this.__adPlayer && this.creative.isLinear && !this.rmpVastVpaidPlayer && (this.onPauseFn = Di._onPause.bind(this), this.__adPlayer.addEventListener("pause", this.onPauseFn), this.onPlayFn = Di._onPlay.bind(this), this.__adPlayer.addEventListener("play", this.onPlayFn), this.onPlayingFn = Di._onPlaying.bind(this), this.__adPlayer.addEventListener("playing", this.onPlayingFn, {
        once: !0
      }), this.onEndedFn = Di._onEnded.bind(this), this.__adPlayer.addEventListener("ended", this.onEndedFn, {
        once: !0
      }), this.onVolumeChangeFn = Di._onVolumeChange.bind(this), this.__adPlayer.addEventListener("volumechange", this.onVolumeChangeFn), this.onTimeupdateFn = Di._onTimeupdate.bind(this), this.__adPlayer.addEventListener("timeupdate", this.onTimeupdateFn))
    }
  }
  class Oi {
    static _updateVastError(e) {
      const t = [201, 204, 205, 400, 401, 402, 403, 501, 502, 503, 603, 901, 1002],
        n = [303, 900, 1001],
        r = [{
          code: 201,
          description: "Video player expecting different linearity."
        }, {
          code: 303,
          description: "No VAST response after one or more Wrappers."
        }, {
          code: 400,
          description: "General Linear error. Video player is unable to display the Linear Ad."
        }, {
          code: 401,
          description: "File not found. Unable to find Linear/MediaFile from URI."
        }, {
          code: 402,
          description: "Timeout of MediaFile URI."
        }, {
          code: 403,
          description: "Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."
        }, {
          code: 501,
          description: "Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."
        }, {
          code: 502,
          description: "Unable to fetch NonLinearAds/NonLinear resource."
        }, {
          code: 503,
          description: "Could not find NonLinear resource with supported type."
        }, {
          code: 603,
          description: "Unable to fetch CompanionAds/Companion resource."
        }, {
          code: 900,
          description: "Undefined Error."
        }, {
          code: 901,
          description: "General VPAID error."
        }, {
          code: 1001,
          description: "Invalid input for loadAds method"
        }, {
          code: 1002,
          description: "Required DOMParser API is not available"
        }].filter((t => t.code === e));
      r.length > 0 ? (this.__vastErrorCode = r[0].code, this.__adErrorMessage = r[0].description) : (this.__vastErrorCode = -1, this.__adErrorMessage = "Error getting VAST error"), this.__vastErrorCode > -1 && (n.indexOf(this.__vastErrorCode) > -1 ? this.__adErrorType = "adLoadError" : t.indexOf(this.__vastErrorCode) > -1 && (this.__adErrorType = "adPlayError"))
    }
    static filterParams(e) {
      if (this.params = {
          ajaxTimeout: 5e3,
          creativeLoadTimeout: 8e3,
          ajaxWithCredentials: !1,
          maxNumRedirects: 4,
          vastXmlInput: !1,
          enableVpaid: !1,
          pauseOnEnd: !1,
          timeEvents: {},
          clickThroughElementId: ""
        }, e && "object" == typeof e) {
        Object.keys(e).forEach((t => {
          typeof e[t] == typeof this.params[t] && (Number.isFinite(e[t]) && e[t] > 0 || "number" != typeof e[t]) && (this.params[t] = e[t])
        }))
      }
    }
    static createApiEvent(e) {
      Array.isArray(e) ? e.forEach((e => {
        e && this.dispatch(e)
      })) : e && this.dispatch(e)
    }
    static playPromise(e, t) {
      let n;
      switch (e) {
        case "content":
          n = this.__contentPlayer;
          break;
        case "vast":
          n = this.__adPlayer
      }
      if (n) {
        const r = n.play();
        void 0 !== r && r.then((() => {
          t && Oi.createApiEvent.call(this, "adinitialplayrequestsucceeded")
        })).catch((n => {
          console.warn(n), t && "vast" === e && this.creative.isLinear ? (Oi.createApiEvent.call(this, "adinitialplayrequestfailed"), this.rmpVastAdPlayer.appendPlayButton()) : t && "content" === e && !this.creative.isLinear && Oi.createApiEvent.call(this, "adinitialplayrequestfailed")
        }))
      }
    }
    static initInstanceVariables() {
      this.adContainer = null, this.contentWrapper = null, this.container = null, this.rmpVastContentPlayer = null, this.rmpVastAdPlayer = null, this.currentContentSrc = "", this.currentContentCurrentTime = -1, this.params = {}, this.events = {}, this.adPod = !1, this.adPodLength = 0, this.__contentPlayer = null, this.__adPlayer = null, this.__initialized = !1, this.__contentPlayerCompleted = !1
    }
    static resetVariablesForNewLoadAds() {
      this.off("adstarted", this.attachViewableObserverFn), this.onPauseFn = null, this.onPlayFn = null, this.onPlayingFn = null, this.onEndedFn = null, this.onVolumeChangeFn = null, this.onTimeupdateFn = null, this.trackingTags = [], this.vastErrorTags = [], this.adErrorTags = [], this.firstQuartileEventFired = !1, this.midpointEventFired = !1, this.progressEventFired = !1, this.thirdQuartileEventFired = !1, this.needsSeekAdjust = !1, this.seekAdjustAttached = !1, this.ad = {}, this.creative = {}, this.attachViewableObserverFn = null, this.viewableObserver = null, this.viewablePreviousRatio = .5, this.progressEvents = [], this.rmpVastLinearCreative = null, this.rmpVastVpaidPlayer = null, this.adParametersData = "", this.__vastErrorCode = -1, this.__adErrorType = "", this.__adErrorMessage = "", this.__adOnStage = !1, this.timeEventsFired = {}, this.clickThroughElement = null
    }
    static processVastErrors(e, t, n) {
      t && Di.error.call(this, e, n), Oi._updateVastError.call(this, e), Oi.createApiEvent.call(this, "aderror"), this.rmpVastAdPlayer && this.rmpVastAdPlayer.destroy()
    }
  }
  class Bi {
    constructor(e) {
      this._rmpVast = e, this._params = e.params, this._container = e.container, this._adContainer = e.adContainer, this._adPlayer = e.__adPlayer, this._contentPlayer = e.__contentPlayer, this._firstAdPlayerPlayRequest = !0, this._skippableAdCanBeSkipped = !1, this._onTimeupdateCheckSkipFn = null, this._onDurationChangeFn = null, this._onLoadedmetadataPlayFn = null, this._onContextMenuFn = null, this._onPlaybackErrorFn = null, this._onInteractionOpenClickThroughUrlFn = null, this._creativeLoadTimeoutCallback = null
    }
    get skippableAdCanBeSkipped() {
      return this._skippableAdCanBeSkipped
    }
    _onDurationChange() {
      let e = -1;
      if (this._rmpVast.rmpVastAdPlayer && (e = this._rmpVast.rmpVastAdPlayer.duration), Oi.createApiEvent.call(this._rmpVast, "addurationchange"), -1 === e) return;
      Object.keys(this._rmpVast.creative.trackingEvents).forEach((t => {
        if (/progress-/i.test(t)) {
          const n = t.split("-")[1];
          if (/%/i.test(n)) {
            let r = n.slice(0, -1);
            r = e * parseFloat(r) / 100;
            this._rmpVast.creative.trackingEvents[t].forEach((e => {
              this._rmpVast.progressEvents.push({
                time: r,
                url: e
              })
            }))
          } else {
            this._rmpVast.creative.trackingEvents[t].forEach((e => {
              this._rmpVast.progressEvents.push({
                time: 1e3 * parseFloat(n),
                url: e
              })
            }))
          }
        }
      })), this._rmpVast.progressEvents.length > 0 && this._rmpVast.progressEvents.sort(((e, t) => e.time - t.time))
    }
    _onLoadedmetadataPlay() {
      clearTimeout(this._creativeLoadTimeoutCallback), this._adPlayer && (this._contentPlayer.muted ? this._adPlayer.muted = !0 : this._adPlayer.muted = !1), Fi.show(this._adContainer), Fi.show(this._adPlayer), this._rmpVast.__adOnStage = !0, this._rmpVast.rmpVastAdPlayer && (this._rmpVast.rmpVastAdPlayer.play(this._firstAdPlayerPlayRequest), this._firstAdPlayerPlayRequest = !1), Oi.createApiEvent.call(this._rmpVast, "adloaded"), Di.dispatch.call(this._rmpVast, "loaded")
    }
    _onInteractionOpenClickThroughUrl(e) {
      e && e.stopPropagation(), Oi.createApiEvent.call(this._rmpVast, "adclick"), Di.dispatch.call(this._rmpVast, "clickthrough")
    }
    _onPlaybackError(e) {
      if (e && e.target) {
        const t = e.target;
        if (t.error && Number.isFinite(t.error.code)) {
          const e = t.error.code;
          let n = "";
          "string" == typeof t.error.message && (n = t.error.message);
          if (4 === e) {
            const e = {
              errorCode: t.error.code,
              errorMessage: t.error.message,
              videoNetworkState: t.networkState,
              videoReadyState: t.readyState,
              videoSrc: t.src,
              videoCurrentSrc: t.currentSrc
            };
            Oi.processVastErrors.call(this._rmpVast, 401, !0, e)
          }
        }
      }
    }
    _onContextMenu(e) {
      e && (e.stopPropagation(), e.preventDefault())
    }
    _onTimeupdateCheckSkip() {
      const e = this._adPlayer.currentTime;
      Number.isFinite(e) && e > 0 && e >= this._rmpVast.creative.skipoffset && (this._adPlayer.removeEventListener("timeupdate", this._onTimeupdateCheckSkipFn), this._skippableAdCanBeSkipped = !0, Oi.createApiEvent.call(this._rmpVast, "adskippablestatechanged"))
    }
    destroy() {
      clearTimeout(this._creativeLoadTimeoutCallback), this._adPlayer && (this._adPlayer.removeEventListener("click", this._onInteractionOpenClickThroughUrlFn), this._adPlayer.removeEventListener("timeupdate", this._onTimeupdateCheckSkipFn), this._adPlayer.removeEventListener("durationchange", this._onDurationChangeFn), this._adPlayer.removeEventListener("loadedmetadata", this._onLoadedmetadataPlayFn), this._adPlayer.removeEventListener("contextmenu", this._onContextMenuFn), this._adPlayer.removeEventListener("error", this._onPlaybackErrorFn)), this._contentPlayer.removeEventListener("error", this._onPlaybackErrorFn), this.clickThroughElement && this.clickThroughElement.removeEventListener("click", this._onInteractionOpenClickThroughUrlFn)
    }
    update(e, t) {
      if (this._onDurationChangeFn = this._onDurationChange.bind(this), this._adPlayer.addEventListener("durationchange", this._onDurationChangeFn, {
          once: !0
        }), this._onLoadedmetadataPlayFn = this._onLoadedmetadataPlay.bind(this), this._adPlayer.addEventListener("loadedmetadata", this._onLoadedmetadataPlayFn, {
          once: !0
        }), this._onContextMenuFn = this._onContextMenu.bind(this), this._adPlayer.addEventListener("contextmenu", this._onContextMenuFn), this._onPlaybackErrorFn = this._onPlaybackError.bind(this), this._creativeLoadTimeoutCallback = setTimeout((() => {
          const e = this._adPlayer,
            t = {
              videoNetworkState: e.networkState,
              videoReadyState: e.readyState,
              videoSrc: e.src,
              videoCurrentSrc: e.currentSrc
            };
          Oi.processVastErrors.call(this._rmpVast, 402, !0, t)
        }), this._params.creativeLoadTimeout), this._adPlayer.addEventListener("error", this._onPlaybackErrorFn), this._adPlayer.src = e, this._adPlayer.load(), this._onInteractionOpenClickThroughUrlFn = this._onInteractionOpenClickThroughUrl.bind(this), this._rmpVast.creative.clickThroughUrl) {
        if (this.clickThroughElement = this._params.clickThroughElementId && this._container.getRootNode().querySelector(`#${CSS.escape(this._params.clickThroughElementId)}`), !this.clickThroughElement) throw new Error("clickThroughElementId is not valid");
        this.clickThroughElement.addEventListener("click", this._onInteractionOpenClickThroughUrlFn)
      }
      this._rmpVast.creative.isSkippableAd && (this._onTimeupdateCheckSkipFn = this._onTimeupdateCheckSkip.bind(this), this._adPlayer.addEventListener("timeupdate", this._onTimeupdateCheckSkipFn))
    }
    parse(e) {
      const t = e.mediaFiles;
      if (0 === t.length) return;
      const n = "hvc1",
        r = "avc1.4d401f",
        i = "vp9",
        a = e => {
          if (e.codec && e.mimeType) return e.codec;
          if ("video/mp4" === e.mimeType && e.fileURL.endsWith("-x265.mp4")) return n;
          if (e.mimeType) switch (e.mimeType) {
            case "video/mp4":
              return r;
            case "video/webm":
              return i;
            default:
              return null
          }
          return null
        },
        o = ["video/mp4", "video/webm"],
        s = t.filter((e => null !== e.fileURL && null !== e.mimeType && o.includes(e.mimeType) && (e => {
          const t = a(e);
          return !!t && Li.checkCanPlayType(e.mimeType, t)
        })(e)));
      if (0 === s.length) {
        const e = t.findAll((e => "video/mp4" === e.mimeType && a(e) === r));
        s.push(...e)
      }
      const l = e => {
          const {
            width: t,
            height: o,
            bitrate: s
          } = e;
          if (s) return s;
          return {
            [r]: 87e-5,
            [i]: 61e-5,
            [n]: 76e-5
          } [a(e)] * t * o
        },
        c = new Vi,
        d = c.bandwidthData.estimate > -1,
        u = e => {
          const {
            width: t,
            height: n
          } = e;
          let r = 1;
          if (d) {
            const t = Math.round(1e3 * c.bandwidthData.estimate);
            r *= Math.min(t / l(e), 1)
          }
          if (t && n) {
            const e = Math.min(t / (Fi.getWidth(this._container) * Li.devicePixelRatio), n / (Fi.getHeight(this._container) * Li.devicePixelRatio));
            r *= Math.min(1, e)
          }
          return r
        };
      let p, _ = 0;
      for (let h = 0; h < s.length; h++) {
        const e = u(s[h]);
        e > _ ? (_ = e, p = s[h]) : e === _ && (p = l(s[h]) < l(p) ? s[h] : p)
      }
      this._rmpVast.creative.mediaUrl = p.fileURL, this._rmpVast.creative.height = p.height, this._rmpVast.creative.width = p.width, this._rmpVast.creative.type = p.mimeType, this._rmpVast.rmpVastAdPlayer && this._rmpVast.rmpVastAdPlayer.append(p.fileURL, p.mimeType)
    }
  }
  class Ui {
    constructor(e) {
      this.eventName = e, this.callbacks = []
    }
    registerCallback(e) {
      this.callbacks.push(e)
    }
    unregisterCallback(e) {
      const t = this.callbacks.indexOf(e);
      t > -1 && this.callbacks.splice(t, 1)
    }
    fire(e) {
      this.callbacks.slice(0).forEach((t => {
        t(e)
      }))
    }
  }
  class Mi {
    _rmpVast;
    constructor(e) {
      this._rmpVast = e, this._params = e.params, this._adContainer = e.adContainer, this._contentWrapper = e.contentWrapper, this._adPlayer = null, this._onTimeUpdateFn = null, this._onProgressFn = null, this._onPlayButtonClickFn = null
    }
    destroy() {
      this._rmpVast.rmpVastLinearCreative && this._rmpVast.rmpVastLinearCreative.destroy(), this._onTimeUpdateFn && this._adPlayer.removeEventListener("timeupdate", this._onTimeUpdateFn), this._onProgressFn && this._adPlayer.removeEventListener("progress", this._onProgressFn), this._onPlayButtonClickFn && this._adPlayer.removeEventListener("click", this._onPlayButtonClickFn), Di.destroy.call(this._rmpVast), Fi.hide(this._adContainer);
      try {
        this._adPlayer && (this._adPlayer.pause(), this._adPlayer.removeAttribute("src"), this._adPlayer.load(), Fi.hide(this._adPlayer))
      } catch (e) {
        console.warn(e)
      }
      Oi.resetVariablesForNewLoadAds.call(this._rmpVast), Oi.createApiEvent.call(this._rmpVast, "addestroyed")
    }
    init() {
      this._rmpVast.adContainer = this._adContainer = document.createElement("div"), this._adContainer.className = "rmp-ad-container", this._contentWrapper.appendChild(this._adContainer), Fi.hide(this._adContainer), this._rmpVast.__adPlayer = this._adPlayer = this._rmpVast.__contentPlayer, Fi.logVideoEvents(this._adPlayer, "ad"), Li.isMobile && this._adPlayer.load(), (Li.isIos[0] || Li.isMacOS[0] || Li.isIpadOS || Li.isMacOS[0]) && (this._onTimeUpdateFn = this._onTimeUpdate.bind(this), this._adPlayer.addEventListener("timeupdate", this._onTimeUpdateFn), this._onProgressFn = this._onProgress.bind(this), this._adPlayer.addEventListener("progress", this._onProgressFn)), this._rmpVast.__initialized = !0
    }
    append(e, t) {
      if (!this._adPlayer) throw new Error("AdPlayer: missing ad player");
      e && t && this._rmpVast.rmpVastLinearCreative && this._rmpVast.rmpVastLinearCreative.update(e, t), Di.wire.call(this._rmpVast)
    }
    appendPlayButton() {
      const e = document.createElement("div");
      e.className = "rmp-ad-container-play-button", e.style.cssText = "width: 136px; height: 136px; border-radius: 100%; background-color: rgb(255 255 255 / 12%); position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); display: flex; justify-content: center; align-items: center;", e.setAttribute("data-testid", "play-button");
      const t = document.createElement("img");
      t.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgB7dztcdNAEIDhNUMBKcHpIKkAUgFDBTgV4FRgUwGhAkMFmApsKiBUIHUAHSy7IzyRE9uxpDt93fvM7Ezy9/bjzmdZIgAAAAAAAAAAjIOqXlls9JH/PRXE5wtt8UcPW5GIyJ5U/iGZxQdBHHo+T8Q7QVha3UoZS+FofUtBc9pMpuwPzWgY35WxVI+G9ZlEVKThZTqisTSRyHzFJI7c4mYymeQyYK9kuKYW3g0rxtIJ2g6/6lgKntN2ZcqxdZ92Y6UDGUtD3oTP8cni3jbqv5Iq7V6mPR5LY++AsgeL9307tg75GFrVlfTw2JpSAnZmFpu+jKWURtAhucXcxtIP6UiKHVA2tVh3OZZST8DOTIr9YSktIwH7Fm0fW1PfA05ZW9zFPraSgJfdW3yJlQgScJ7cYmlJ+CaBkYBqcgn8JRCbcDVTKU5LcwmEDqjHb1cvQ9yy0gH1XFgEeYySBHSMBNT3WwIgAfV8tfn/IAGQgOr8g9mdBPJacK7cYmaV/1MCogPO41V/HXrxHR1wWi4Rqr6MDjguWtWX0QHP+elmHnvhd+iAfX7jed3W4js6oLCV4suXIGf7KlLvAL9M83Fz08Xiu5Q7YGtx2/WTcil2QLnqc+lYah2wlR5UfVkqHdCrqi9LoQO20rOqLxtzB/S26svG2gH+UNXtEH4ZM7YE+IL7wq9lIMY0gvzy7HJIi+/G0AG5RL4yHjSNy1/ecSE4TuPILN4IXqbhUfVVaDiZUvXVaRhUfV3azC+l6pvR+haC5rS6jcWVIIwKC+8vXfooCEuPv7j7adVPBeHZwi6o+o5p8eJVqv6A6L8R29Hizehv//+75vIMAAAAAAAAAIDW/AMZppzFSmxZ4wAAAABJRU5ErkJggg==", t.width = 96, t.height = 96, e.appendChild(t), this._adContainer.appendChild(e), this._onPlayButtonClickFn = this._onPlayButtonClick.bind(this), this._adPlayer.addEventListener("click", this._onPlayButtonClickFn, {
        once: !0
      });
      const n = setTimeout((() => {
        Oi.processVastErrors.call(this, 400, !0)
      }), 8e3);
      this._adPlayer.addEventListener("playing", (() => {
        e.remove(), clearTimeout(n)
      }), {
        once: !0
      })
    }
    _onPlayButtonClick() {
      this._adPlayer.play();
      const e = this._adContainer.querySelector(".rmp-ad-container-play-button");
      e && e.remove()
    }
    _onTimeUpdate() {
      this.lastBufferedTime < this._adPlayer.currentTime && this._adPlayer.pause()
    }
    _onProgress() {
      this.lastBufferedTime > this._adPlayer.currentTime && this._adPlayer.paused && this._adPlayer.play()
    }
    set volume(e) {
      this._adPlayer && (this._adPlayer.volume = e)
    }
    get volume() {
      return this._adPlayer ? this._adPlayer.volume : -1
    }
    set muted(e) {
      this._adPlayer && (e && !this._adPlayer.muted ? this._adPlayer.muted = !0 : !e && this._adPlayer.muted && (this._adPlayer.muted = !1))
    }
    get muted() {
      return !!this._adPlayer && this._adPlayer.muted
    }
    get duration() {
      return this._adPlayer && Number.isFinite(this._adPlayer.duration) ? 1e3 * this._adPlayer.duration : -1
    }
    get currentTime() {
      return this._adPlayer && Number.isFinite(this._adPlayer.currentTime) ? 1e3 * this._adPlayer.currentTime : -1
    }
    get lastBufferedTime() {
      if (this._adPlayer.buffered && this._adPlayer.buffered.length > 0) {
        const e = this._adPlayer.buffered ? this._adPlayer.buffered.end(this._adPlayer.buffered.length - 1) : void 0;
        if (void 0 !== e) return e
      }
      return 1 / 0
    }
    play(e) {
      this._adPlayer && this._adPlayer.paused && Oi.playPromise.call(this._rmpVast, "vast", e)
    }
    pause() {
      this._adPlayer && !this._adPlayer.paused && this._adPlayer.pause()
    }
  }
  class zi {
    rmpVastAdPlayer;
    rmpVastLinearCreative;
    constructor(e, t) {
      Oi.initInstanceVariables.call(this), e instanceof HTMLElement && (this.container = e, this.contentWrapper = this.container.querySelector(".rmp-content"), this.__contentPlayer = this.container.querySelector(".rmp-video"), null !== this.container && null !== this.contentWrapper && null !== this.__contentPlayer && (Oi.resetVariablesForNewLoadAds.call(this), Oi.filterParams.call(this, t)))
    }
    dispatch(e, t) {
      const n = this.events[e];
      if (n) {
        const r = {
          type: e
        };
        t && (r.data = t), n.fire(r)
      }
    }
    _on(e, t) {
      let n = this.events[e];
      n || (n = new Ui(e), this.events[e] = n), n.registerCallback(t)
    }
    on(e, t) {
      if ("string" != typeof e || "" === e || "function" != typeof t) return;
      e.split(" ").forEach((e => {
        this._on(e, t)
      }))
    }
    _off(e, t) {
      const n = this.events[e];
      n && n.callbacks.indexOf(t) > -1 && (n.unregisterCallback(t), 0 === n.callbacks.length && delete this.events[e])
    }
    off(e, t) {
      if ("string" != typeof e || "" === e || "function" != typeof t) return;
      e.split(" ").forEach((e => {
        this._off(e, t)
      }))
    }
    _addTrackingEvents(e) {
      Object.keys(e).forEach((t => {
        e[t].forEach((e => {
          this.trackingTags.push({
            event: t,
            url: e
          })
        }))
      }))
    }
    _loopAds(e) {
      for (let t = 0; t < e.length; t++) {
        const n = e[t];
        this.ad.id = n.id, this.ad.adServingId = n.adServingId, this.ad.adType = n.adType, this.ad.title = n.title, this.ad.description = n.description, this.ad.system = n.system, n.errorURLTemplates.forEach((e => {
          this.adErrorTags.push({
            event: "error",
            url: e
          })
        })), n.impressionURLTemplates.forEach((e => {
          e.url && this.trackingTags.push({
            event: "impression",
            url: e.url
          })
        }));
        const r = n.creatives;
        for (let e = 0; e < r.length; e++) {
          const t = r[e];
          this.creative.id = t.id, this.creative.universalAdIds = t.universalAdIds, this.creative.adId = t.adId, this.creative.trackingEvents = t.trackingEvents, this.creative.duration = t.duration, this.creative.skipDelay = t.skipDelay, this.creative.skipDelay && (this.creative.skipoffset = t.skipDelay, this.creative.isSkippableAd = !0), t.videoClickThroughURLTemplate && t.videoClickThroughURLTemplate.url && (this.creative.clickThroughUrl = t.videoClickThroughURLTemplate.url), t.videoClickTrackingURLTemplates.length > 0 && t.videoClickTrackingURLTemplates.forEach((e => {
            e.url && this.trackingTags.push({
              event: "clickthrough",
              url: e.url
            })
          })), this.creative.isLinear = !0, this._addTrackingEvents(t.trackingEvents), this.rmpVastLinearCreative = new Bi(this), this.rmpVastLinearCreative.parse(t)
        }
      }
    }
    _handleParsedVast(e) {
      e.errorURLTemplates.length > 0 && e.errorURLTemplates.forEach((e => {
        this.vastErrorTags.push({
          event: "error",
          url: e
        })
      })), 0 !== e.ads.length ? this._loopAds(e.ads) : Oi.processVastErrors.call(this, 303, !0)
    }
    _getVastTag(e) {
      if ("string" == typeof e && "" !== e)
        if ("undefined" != typeof DOMParser) {
          if (Oi.createApiEvent.call(this, "adtagstartloading"), !this.params.vastXmlInput) throw new Error("VAST XML input is required. VAST loading by URI is not supported");
          {
            let n;
            try {
              n = (new DOMParser).parseFromString(e, "text/xml")
            } catch (t) {
              return console.warn(t), void Oi.processVastErrors.call(this, 900, !0)
            }
            new Ii(((e, t) => {
              "VAST-error" !== e && "ERROR" !== t.type || Oi.processVastErrors.call(this, 900, !0)
            })).parseVAST(n).then((e => {
              Oi.createApiEvent.call(this, "adtagloaded"), this._handleParsedVast(e)
            })).catch((e => {
              console.warn(e), Oi.processVastErrors.call(this, 900, !0)
            }))
          }
        } else Oi.processVastErrors.call(this, 1002, !1);
      else Oi.processVastErrors.call(this, 1001, !1)
    }
    loadAds(e) {
      if (this.__initialized || this.initialize(), this.__adOnStage) throw new Error("Creative already on stage, cannot load VAST");
      this._getVastTag(e)
    }
    play() {
      this.__adOnStage && this.creative && this.creative.isLinear && this.rmpVastAdPlayer && this.rmpVastAdPlayer.play()
    }
    pause() {
      this.__adOnStage && this.creative && this.creative.isLinear && this.rmpVastAdPlayer && this.rmpVastAdPlayer.pause()
    }
    destroy() {
      this.rmpVastAdPlayer && this.rmpVastAdPlayer.destroy(), Oi.initInstanceVariables.call(this)
    }
    get adPaused() {
      return !!(this.__adOnStage && this.creative && this.creative.isLinear && this.__adPlayer) && this.__adPlayer.paused
    }
    set volume(e) {
      if (!Number.isFinite(e)) return;
      let t = 0;
      t = e < 0 ? 0 : e > 1 ? 1 : e, this.__adOnStage && this.creative && this.creative.isLinear && this.rmpVastAdPlayer && (this.rmpVastAdPlayer.volume = t)
    }
    get volume() {
      return this.__adOnStage && this.creative && this.creative.isLinear && this.rmpVastAdPlayer ? this.rmpVastAdPlayer.volume : -1
    }
    set muted(e) {
      "boolean" == typeof e && this.__adOnStage && this.creative && this.creative.isLinear && this.rmpVastAdPlayer && (this.rmpVastAdPlayer.muted = e)
    }
    get muted() {
      return !(this.__adOnStage && this.creative && this.creative.isLinear && this.rmpVastAdPlayer) || this.rmpVastAdPlayer.muted
    }
    get adDuration() {
      return this.__adOnStage && this.creative && this.creative.isLinear && this.rmpVastAdPlayer ? this.rmpVastAdPlayer.duration : -1
    }
    get adCurrentTime() {
      return this.__adOnStage && this.creative && this.creative.isLinear && this.rmpVastAdPlayer ? this.rmpVastAdPlayer.currentTime : -1
    }
    get clickThroughUrl() {
      return this.creative && this.creative.clickThroughUrl ? this.creative.clickThroughUrl : ""
    }
    get isSkippableAd() {
      return !(!this.creative || !this.creative.isSkippableAd)
    }
    get adSkippableState() {
      return !!(this.__adOnStage && this.isSkippableAd && this.rmpVastLinearCreative) && this.rmpVastLinearCreative.skippableAdCanBeSkipped
    }
    initialize() {
      this.__initialized || (this.rmpVastAdPlayer = new Mi(this), this.rmpVastAdPlayer.init())
    }
  }
  const ji = new class {
      subscribers = {};
      dispatchedEvents = new Set;
      onFiredBeforePlayerEvent(e, t) {
        this.dispatchedEvents.has(e) ? t() : (this.subscribers[e] ??= []).push(t)
      }
      dispatchEvent(e) {
        this.dispatchedEvents.add(e), this.subscribers[e]?.map((e => e())), this.subscribers[e] = []
      }
      clear() {
        this.dispatchedEvents = new Set, this.subscribers = {}
      }
    },
    Wi = qt((({
      setPlayerContext: e,
      playerRef: t,
      vast: n,
      setClickUrl: r
    }) => {
      const i = Ur(),
        a = Vt(null),
        o = En(),
        s = Ft((e => {
          const n = t.current;
          null !== n && n.adPaused && n.play(), e.preventDefault(), e.stopPropagation()
        }), [t]);
      return It((() => {
        null === t.current && null !== a.current && (t.current = new zi(a.current, {
          vastXmlInput: !0,
          pauseOnEnd: !0,
          timeEvents: {
            showActionButton: 5e3,
            enableCloseButton: jr,
            showPackshot: -500
          },
          clickThroughElementId: Hr(i)
        }), t.current.initialize(), t.current.on("addestroyed", (() => {
          ji.clear()
        })), t.current.on("adstarted", (() => {
          r(t.current?.clickThroughUrl ?? ""), o.emit(ot.onStart)
        })), t.current.on("aderror", (() => {
          o.emit(at.error)
        })), t.current.loadAds(n), e(t.current))
      }), [o, i, t, e, r, n]), It((() => {
        const e = () => {
            t.current?.play()
          },
          n = () => {
            t.current?.pause()
          },
          r = () => {
            t.current?.adPaused && setTimeout((() => t.current?.play()), 500)
          },
          i = () => {
            ji.clear(), t.current?.destroy()
          };
        return o.on(at.play, e), o.on(at.pause, n), o.on(at.leave, n), o.on(at.return, r), o.on(at.finalDestroy, i), () => {
          o.off(at.play, e), o.off(at.pause, n), o.off(at.leave, n), o.off(at.return, r), o.off(at.finalDestroy, i)
        }
      }), [o, t]), Rn("div", {
        className: "rmp-container adsgram",
        ref: a,
        onClick: s,
        "data-testid": "player-container",
        children: Rn("div", {
          className: "rmp-content",
          children: Rn("video", {
            className: "rmp-video",
            poster: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=",
            muted: !0,
            playsInline: !0,
            controls: !1,
            disableRemotePlayback: !0,
            disablePictureInPicture: !0,
            "data-testid": "player-video",
            preload: "auto"
          })
        })
      })
    })),
    $i = {
      wrapper: "_wrapper_1t8xa_1"
    };

  function Hi({
    vast: e,
    playerRef: t,
    actionButtonTitle: n,
    image: r,
    hasPackshot: i,
    duration: a,
    title: o,
    description: s,
    kebab: l
  }) {
    const [c, d] = Rt(null), [u, p] = Rt("");
    return Rn(Wr.Provider, {
      value: c,
      children: Rn("div", {
        className: $i.wrapper,
        children: [Rn(ci, {
          kebab: l
        }), Rn(qr, {
          text: n,
          clickUrl: u
        }), Rn(Wi, {
          vast: e,
          playerRef: t,
          setPlayerContext: d,
          setClickUrl: p
        }), i && Rn(ui, {
          image: r,
          duration: a,
          title: o,
          description: s,
          clickUrl: u
        }), Rn(Kr, {
          packshotDuration: a
        })]
      })
    })
  }
  const qi = {
    [r]: function({
      vast: e,
      packshotImage: t,
      actionButtonTitle: n,
      title: r,
      description: i,
      kebab: a
    }) {
      const o = Vt(null),
        s = yn("FORCED_SUB_FORMAT");
      return Fr(), Rn("div", {
        className: Or,
        children: Rn(Hi, {
          vast: e,
          playerRef: o,
          image: t,
          actionButtonTitle: n,
          hasPackshot: !0,
          title: r,
          description: i,
          duration: s ? 15e3 : 5e3,
          kebab: a
        })
      })
    },
    [i]: function({
      image: e,
      title: t,
      description: n,
      advertiserName: r,
      buttonName: i,
      url: o,
      icon: s,
      kebab: l
    }) {
      const c = En(),
        d = Tn(),
        u = Lr("click"),
        p = gn() === a.InterstitialFullscreen,
        _ = wn(),
        h = Lt((() => new Dr({
          callbacks: {
            endCallback: () => {
              c.emit(p ? ot.onComplete : ot.onReward)
            },
            3: () => b(!0),
            6: () => f(!0),
            5: () => y(!0)
          },
          endTime: _
        })), [c, _, p]),
        [m, f] = Rt(!1),
        [g, b] = Rt(!1),
        [v, y] = Rt(!1),
        w = Vt(1 / 0),
        k = Ft((e => {
          g && (e.isTrusted ? (e.preventDefault(), e.stopPropagation(), Sr(u, d), h.stop(), c.emit(at.leave), w.current = Date.now(), Bn({
            url: o,
            logger: d
          })) : c.emit(ot.onError))
        }), [g, u, d, h, o, c]),
        x = Vt(null);
      return function({
          sendTackingTime: e,
          element: t,
          preventSend: n
        }) {
          const r = Tn(),
            i = En(),
            a = Lr("show"),
            [o, s] = Rt(!1),
            [l, c] = Rt(!0),
            d = Lt((() => new Dr({
              endTime: e,
              callbacks: {}
            })), [e]),
            u = Ir(t),
            p = Lt((() => null !== t.current && u && l && Rr(t.current)), [t, l, u]),
            _ = Ft((async () => {
              o || n || (await Sr(a, r), s(!0))
            }), [o, r, n, a]),
            h = Ft((() => {
              p || d.stop()
            }), [p, d]);
          It((() => (d.subscribeOnTickUpdate(h), d.subscribeOnEnd(_), () => {
            d.unsubscribeAll()
          })), [_, h, d]), It((() => {
            d.isStopped && p && d.restart()
          }), [p, d]), It((() => {
            const e = () => {
                c(!0)
              },
              t = () => {
                c(!1)
              };
            return i.on(at.return, e), i.on(at.leave, t), () => {
              i.off(at.return, e), i.off(at.leave, t)
            }
          }), [i])
        }({
          sendTackingTime: 2,
          element: x,
          preventSend: !1
        }),
        function({
          element: e
        }) {
          const t = Tn(),
            n = Lr("render"),
            [r, i] = Rt(!1),
            a = Ir(e);
          It((() => {
            a && n && !r && (Sr(n, t), i(!0))
          }), [n, r, a, t])
        }({
          element: x
        }), Fr(), It((() => {
          const e = () => {
              h.destroy()
            },
            t = () => {
              h.resume()
            },
            n = () => {
              h.stop()
            },
            r = () => {
              Date.now() - w.current > 1e4 && c.emit(p ? ot.onComplete : ot.onReward), w.current = 1 / 0, h.resume()
            };
          return c.on(at.finalDestroy, e), c.on(at.play, t), c.on(at.pause, n), c.on(at.leave, n), c.on(at.return, r), () => {
            c.off(at.finalDestroy, e), c.off(at.play, t), c.off(at.pause, n), c.off(at.leave, n), c.off(at.return, r)
          }
        }), [c, p, h]), It((() => {
          c.emit(ot.onStart)
        }), [c]), Rn("div", {
          className: pt(mt, !1),
          ref: x,
          children: [Rn(In, {}), Rn("div", {
            className: ft,
            children: [Rn(br, {
              advertiserName: r,
              title: t,
              description: n,
              image: e,
              icon: s,
              onClick: k,
              isClickable: g,
              kebab: l,
              isCloseVisible: v
            }), g && Rn(Er, {
              buttonName: i,
              onClick: k,
              url: o
            }), m && !p && Rn(Pr, {}), Rn(Gn, {
              timer: h
            })]
          })]
        })
    }
  };

  function Gi(e) {
    const {
      blockId: t,
      EventEmitter: n,
      logger: r,
      children: i,
      exp: a,
      trackings: o,
      blockType: s
    } = e;
    return Rn(An.Provider, {
      value: r,
      children: Rn(xn.Provider, {
        value: n,
        children: Rn(Br.Provider, {
          value: t,
          children: Rn(vn.Provider, {
            value: a,
            children: Rn(gt.Provider, {
              value: s,
              children: Rn(Vr.Provider, {
                value: o,
                children: i
              })
            })
          })
        })
      })
    })
  }

  function Yi(e) {
    const t = {};
    for (const n in e) {
      const {
        name: r,
        value: i
      } = e[n];
      t[r] = i
    }
    return t
  }
  const Zi = {
    [r]: function({
      banner: e
    }) {
      const {
        bannerAssets: t
      } = e, {
        title: n,
        description: r,
        buttonName: i,
        buttonImg: a,
        vast: o,
        erid: s,
        regNumber: l,
        legalName: c,
        inn: d
      } = Yi(t);
      return {
        vast: o,
        packshotImage: a,
        actionButtonTitle: i,
        title: n,
        description: r,
        kebab: {
          erid: s,
          regNumber: l,
          legalName: c,
          inn: d
        }
      }
    },
    [i]: function({
      banner: e
    }) {
      const {
        bannerAssets: t
      } = e, {
        advertiserName: n,
        buttonName: r,
        title: i,
        description: a,
        icon: o,
        image: s,
        url: l,
        erid: c,
        legalName: d,
        regNumber: u,
        inn: p
      } = Yi(t);
      return {
        advertiserName: n,
        buttonName: r,
        description: a,
        icon: o,
        image: s,
        url: l,
        title: i,
        kebab: {
          erid: c,
          legalName: d,
          regNumber: u,
          inn: p
        }
      }
    }
  };
  class Ji extends Be {
    constructor() {
      super(), this.state = {
        hasError: !1
      }
    }
    componentDidCatch(e, t) {
      try {
        this.props.logger.add("componentStack", t?.componentStack).addError(e).send("ErrorBoundary")
      } catch {}
      this.setState({
        hasError: !0
      })
    }
    render({
      EventEmitter: e
    }) {
      return this.state.hasError ? (e.emit(at.renderError), null) : this.props.children
    }
  }

  function Xi(e) {
    return e && 0 !== e.length ? e.reduce(((e, t) => (e[t] = !0, e)), {}) : {}
  }

  function Ki(e) {
    if ("https://127.0.0.1:3000" === window.location.origin || "https://tma.adsgram.ai" === window.location.origin) {
      const e = JSON.parse(sessionStorage.getItem("flags") ?? "[]");
      if (e.length > 0) return Xi(e)
    }
    return {
      ...bn,
      ...Xi(e)
    }
  }

  function Qi({
    data: e,
    bannerType: t,
    blockType: n,
    blockId: r,
    EventEmitter: i,
    logger: a
  }) {
    const o = qi[t],
      s = Zi[t](e);
    return Rn(Gi, {
      blockId: r,
      EventEmitter: i,
      logger: a,
      exp: Ki(e?.banner?.flags),
      trackings: function(e) {
        if (!e) return;
        const t = {};
        for (const n in e) {
          const {
            name: r,
            value: i
          } = e[n];
          t[r] = i
        }
        return t
      }(e?.banner?.trackings),
      blockType: n,
      children: Rn(Ji, {
        EventEmitter: i,
        blockId: r,
        campaignId: e.campaignId,
        logger: a,
        children: Rn(o, {
          ...s
        })
      })
    })
  }

  function ea(e) {
    if (!(e instanceof HTMLElement)) throw new ue({
      message: `${e} cannot be used to display ads`
    });
    return !1
  }
  const ta = "._banner_7zy2f_1{display:flex;flex-direction:column;height:100%;justify-content:space-between;left:0;overflow-y:scroll;position:fixed;top:0;width:100%}._banner_7zy2f_1 button{appearance:none;background:none;box-shadow:none;outline:none;text-decoration:none}._banner_7zy2f_1 button:disabled{background:none}._banner_7zy2f_1::-webkit-scrollbar{display:none}._preview_7zy2f_29{position:static}._wrapper_7zy2f_33{display:flex;flex-direction:column;height:100%;margin:28px 60px 0 0}",
    na = "._banner_dls25_1{left:0;position:fixed;top:0}._banner_dls25_1,._preview_dls25_10{background-color:#000;height:100%;width:100%}._preview_dls25_10{position:absolute}._preview_dls25_10 .rmp-container{border-radius:var(--xs-spacings)}",
    ra = '._label_dbgk3_1{border-radius:var(--s-spacing);cursor:pointer;padding:0 var(--xs-spacing);position:relative;width:fit-content;z-index:1}._label_dbgk3_1:before{background:var(--adsgram-post-opacity-button-color);border-radius:var(--s-spacing);content:"";inset:0;position:absolute;z-index:-1}._text_dbgk3_19{color:var(--adsgram-button-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:23px;text-align:center;vertical-align:top}',
    ia = '._background_gvz1l_1{background-color:var(--adsgram-post-bg-color);height:100%;left:0;position:fixed;top:0;width:100%}._background_gvz1l_1._android-dark_gvz1l_11,._background_gvz1l_1._ios-dark_gvz1l_10{background-blend-mode:var(--adsgram-post-bg-blend-mode);background-image:var(--adsgram-post-bg-gradient)}._background_gvz1l_1:before{background-image:url(https://telegram.org/img/tgme/pattern.svg);background-position:50%;background-repeat:no-repeat;background-size:cover;content:"";filter:var(--adsgram-post-stroke-filter);inset:0;mix-blend-mode:var(--adsgram-post-mix-blend-mode);opacity:var(--adsgram-post-stroke-opacity);position:absolute}._background_gvz1l_1._android-light_gvz1l_30:after,._background_gvz1l_1._ios-light_gvz1l_29:after{background-blend-mode:var(--adsgram-post-bg-blend-mode);background-image:var(--adsgram-post-bg-gradient);content:"";height:100%;position:absolute;width:100%}._preview_gvz1l_39{border-radius:var(--xs-spacing);position:absolute}._preview_gvz1l_39:after{border-radius:var(--xs-spacing)}',
    aa = "._footer_1rexv_1{align-items:center;display:flex;flex:1 1 auto;flex-direction:column;gap:var(--xs-spacing);justify-content:end;margin:20px 0 16px 60px}",
    oa = "._kebab_lsgwj_1{cursor:pointer;display:flex;position:relative}._hidden_lsgwj_7{visibility:hidden}._icon_lsgwj_11{filter:drop-shadow(1px 1px 1px rgb(0 0 0/15%));height:24px;width:24px}",
    sa = "._wrapper_6je2u_1{background:var(--adsgram-secondary-bg-color);border-radius:var(--xxs-spacing);box-shadow:0 1px 3px 1px #0000001f;box-sizing:border-box;cursor:default;max-width:220px;padding:6px 16px;position:absolute;width:calc(100vw - 140px)}._legal-info_6je2u_15,._wrapper_6je2u_1{display:flex;flex-direction:column}",
    la = "._item_19dus_1{display:flex;flex-direction:column;gap:var(--xxxs-spacing);margin:var(--xs-spacing) 0;width:100%}._item_19dus_1 span{font-size:var(--text-xs);font-weight:var(--font-medium);line-height:14px}._header_19dus_15{color:var(--adsgram-subtitle-text-color,#82868a);white-space:nowrap}._content_19dus_20{color:var(--adsgram-text-color,#222)}",
    ca = "._button_1j13t_1{animation-duration:.3s;animation-fill-mode:forwards;animation-name:_show_1j13t_1;animation-timing-function:cubic-bezier(.05,.7,.1,1);background-color:var(--adsgram-button-color);border:1px solid transparent;border-radius:var(--xs-spacing);box-shadow:1px 1px 3px #0003;color:var(--adsgram-button-text-color);cursor:pointer;font-size:var(--text-l);font-weight:var(--font-medium);height:48px;left:50%;line-height:24px;padding:12px 24px;position:absolute;transform:translate(-50%);z-index:3}@keyframes _show_1j13t_1{0%{bottom:10px;opacity:0}to{bottom:30px;opacity:1}}._visible_1j13t_35{animation-play-state:running;visibility:visible}._hidden_1j13t_40{animation-play-state:paused;visibility:hidden}",
    da = "._wrapper_14j31_1{cursor:pointer;display:flex;flex-direction:column;font-size:var(--text-s);font-weight:var(--font-normal);height:100%;letter-spacing:0;line-height:16px;margin:10px 0;text-align:center;width:100%}._adlabel_14j31_15,._adlabeltext_14j31_15{color:#fff9}._adlabel_14j31_15{align-items:center;display:flex;font-size:var(--text-s);font-weight:var(--font-normal);letter-spacing:0;line-height:16px}._tgchannel_14j31_29{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",
    ua = "._close_e7d2o_1{aspect-ratio:1/1;display:flex;flex-wrap:wrap;height:100%;place-content:center center}._close_e7d2o_1._clickable_e7d2o_9{cursor:pointer}._image_e7d2o_13{animation-duration:.15s;animation-name:_show_e7d2o_1;animation-play-state:running;animation-timing-function:cubic-bezier(0,0,0,1)}@keyframes _show_e7d2o_1{0%{opacity:0}to{opacity:1}}",
    pa = "._close_3nvo5_1{aspect-ratio:1/1;display:flex;flex-wrap:wrap;height:100%;place-content:center center}._close_3nvo5_1._clickable_3nvo5_9{cursor:pointer}._image_3nvo5_13{filter:brightness(0) saturate(100%) invert(63%) sepia(0) saturate(1041%) hue-rotate(147deg) brightness(98%) contrast(87%);opacity:.36;transition:.15s ease-out}._close_3nvo5_1._clickable_3nvo5_9 ._image_3nvo5_13{filter:none;opacity:1}",
    _a = "._footer_15eel_1{bottom:0;display:flex;justify-content:space-between;position:absolute;width:100%;z-index:3}",
    ha = "._header_1ke3p_1{--adsgram-header-height:52px;background:linear-gradient(rgba(0,0,0,.35),transparent);display:flex;height:var(--adsgram-header-height);justify-content:space-between;position:absolute;top:0;width:100%;z-index:3}._container_1ke3p_14{display:flex;width:var(--adsgram-header-height)}._expanded-header_1ke3p_19 ._container_1ke3p_14{width:calc(var(--adsgram-header-height)*2)}._label-container_1ke3p_23{display:flex;justify-content:center;width:calc(100% - var(--adsgram-header-height)*2)}._expanded-header_1ke3p_19 ._label-container_1ke3p_23{width:calc(100% - var(--adsgram-header-height)*4)}._preview_1ke3p_33{border-radius:8px 8px 0 0}._kebab_1ke3p_37{align-items:center;display:flex;height:var(--adsgram-header-height);justify-content:center;width:var(--adsgram-header-height)}._kebab-content_1ke3p_45{right:40px;top:10px}",
    ma = "._packshot_1eu44_1{animation-duration:.2s;animation-name:_packshot_1eu44_1;animation-timing-function:cubic-bezier(0,0,0,1);-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);background:#141414cc;display:flex;flex-wrap:wrap;height:100%;place-content:center center;position:absolute;top:0;width:100%}@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){._packshot_1eu44_1{-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);background:#7474814d}}._creatives_1eu44_23{animation-duration:.4s;animation-name:_creatives_1eu44_23;animation-timing-function:cubic-bezier(.05,.7,.1,1);display:flex;flex-direction:column;place-content:center center;position:relative;transform:translateY(-26px);width:280px}._image_1eu44_35{border:1px solid rgb(0 0 0/4%);border-radius:20px;box-shadow:0 8px 20px #00000029;height:128px;margin:0 auto 20px;width:128px}._title_1eu44_44{color:#fff;font-size:28px;font-weight:700;letter-spacing:0;line-height:32px;margin:var(--xs-spacing);text-align:center}._description_1eu44_54{color:#fff9;font-size:16px;font-weight:var(--font-medium);letter-spacing:0;line-height:24px;text-align:center}._play_1eu44_63{animation-play-state:running;visibility:visible}._pause_1eu44_68{animation-play-state:paused;visibility:hidden}@keyframes _packshot_1eu44_1{0%{opacity:0}to{opacity:1}}@keyframes _creatives_1eu44_23{0%{opacity:0;top:40px}to{opacity:1;top:0}}",
    fa = ".rmp-container,.rmp-content,.rmp-video{height:100%;width:100%}",
    ga = "._point_m3ogu_1{background-color:#fff;border-radius:3px;height:6px;opacity:0;position:absolute;top:6px;width:6px}",
    ba = "._timeline_1iayw_1{align-content:center;display:flex;flex-wrap:wrap;height:18px;margin:auto var(--xs-spacing);position:relative;width:100%}._bar_1iayw_11{background-color:#ffffff59;border-radius:var(--xxxs-spacing);height:2px;width:100%}._progress_1iayw_18{background-color:#fff;border-radius:var(--xxxs-spacing);height:100%;width:0}",
    va = "._volume_10n0w_1{aspect-ratio:1/1;cursor:pointer;display:flex;flex-wrap:wrap;height:100%;place-content:center center}",
    ya = "._wrapper_1t8xa_1{height:100%;position:relative;width:100%}",
    wa = "._post_18txr_1{animation-duration:.1s;animation-fill-mode:forwards;animation-name:_show_18txr_1;animation-play-state:running;animation-timing-function:ease-out;display:flex;position:relative}@keyframes _show_18txr_1{0%{opacity:0}to{opacity:1}}._channel_18txr_21{align-self:end;cursor:pointer;height:40px;margin:0 4px 0 10px;width:40px}._icon_18txr_29{background-color:var(--adsgram-secondary-bg-color);border-radius:100%;height:40px;object-fit:cover;width:40px}._tail_18txr_37{align-self:end;color:var(--adsgram-section-bg-color);display:flex;height:10px;width:6px;z-index:1}._tail_18txr_37._android-dark_18txr_46{color:var(--adsgram-bg-color)}._tail_18txr_37 svg{height:10px;width:6px}._message_18txr_55{background-color:var(--adsgram-section-bg-color);border-radius:18px 18px 7px 0;box-shadow:0 1px 2px #00000029;display:flex;flex-direction:column;position:relative;width:100%}._message_18txr_55._android-dark_18txr_46{background-color:var(--adsgram-bg-color)}._image_18txr_69{aspect-ratio:1;border-radius:16px 16px 4px 4px;margin:2px 2px 0;object-fit:cover;width:calc(100% - 4px)}._text_18txr_77{display:flex;flex-direction:column;font-size:var(--text-m);gap:18px;line-height:18px;margin:var(--xs-spacing);width:calc(100% - 16px)}._title_18txr_87{font-weight:var(--font-medium);letter-spacing:0}._description_18txr_95,._title_18txr_87{color:var(--adsgram-text-color);font-size:var(--text-m);line-height:18px}._description_18txr_95{font-weight:var(--font-normal)}._footer_18txr_102{display:flex;justify-content:space-between}._name_18txr_107{background:none;border:none;display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;color:var(--adsgram-hint-color);cursor:default;font-size:var(--text-m);font-weight:var(--font-normal);-webkit-line-clamp:2;line-height:18px;text-align:left;text-decoration:none;text-overflow:ellipsis;transition:color .2s cubic-bezier(.2,0,0,1);word-break:break-word}._clickable_18txr_126{color:var(--adsgram-link-color);cursor:pointer}._adlabel_18txr_131{align-self:end;color:var(--adsgram-hint-color);font-size:12px;line-height:16px;transform:translate(-2px,4px);vertical-align:bottom;white-space:nowrap}._kebab_18txr_141{background:linear-gradient(216deg,#2222220d 25%,#87878700 55%);border-radius:0 18px 0 0;padding:8px 4px 16px 16px;position:absolute;right:0}._kebab-content_18txr_153{right:30px;top:-20px}",
    ka = '._button_12de8_1{animation-duration:.2s;animation-fill-mode:forwards;animation-name:_show_12de8_1;animation-play-state:running;animation-timing-function:cubic-bezier(.2,0,0,1);background-color:transparent;border:none;border-radius:6px 6px 15px 15px;color:var(--adsgram-button-text-color);cursor:pointer;display:inline-block;font-size:14px;font-weight:var(--font-medium);height:40px;letter-spacing:.03em;line-height:40px;margin:4px 0 0 60px;position:relative;text-align:center;width:calc(100% - 60px);z-index:1}@keyframes _show_12de8_1{0%{opacity:0;transform:translateY(-20px) scale(.1)}to{opacity:1;transform:translateY(0) scale(1)}}._button_12de8_1:before{background:var(--adsgram-post-opacity-button-color);border-radius:7px 7px 15px 15px;content:"";inset:0;position:absolute;z-index:-1}._button_12de8_1._ios-light_12de8_46{background:linear-gradient(90deg,#8ea671,#6da94a);box-shadow:inset .5px .5px 20px #66974766}._button_12de8_1._ios-dark_12de8_51{background:linear-gradient(90deg,#112231,#10202d);box-shadow:inset .5px .5px 20px #0f1b2566}._button_12de8_1:active{animation-fill-mode:none;transform:scale(.95);transition:.1s}._icon_12de8_62{position:absolute;right:1px;top:1px}',
    xa = '._close_7xq49_1{align-items:center;animation-duration:.3s;animation-name:_show_7xq49_1;animation-play-state:running;animation-timing-function:cubic-bezier(0,0,.46,1.41);cursor:pointer;display:flex;height:40px;justify-content:center;position:absolute;right:-44px;top:-2px;width:40px;z-index:1}._image_7xq49_18{height:16px;width:16px}._close_7xq49_1:before{background:var(--adsgram-post-opacity-button-color);border-radius:100%;content:"";height:28px;position:absolute;width:28px;z-index:-1}@keyframes _show_7xq49_1{0%{opacity:0;transform:scale(.1)}to{opacity:1;transform:scale(1)}}',
    Ea = '._timer_1s77f_1{padding:0 var(--xs-spacing);position:relative;width:fit-content;z-index:1}._timer_1s77f_1:before{background:var(--adsgram-post-opacity-button-color);border-radius:var(--s-spacing);content:"";inset:0;position:absolute;z-index:-1}._time_1s77f_1{color:var(--adsgram-button-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:23px;text-align:center;vertical-align:top}',
    Aa = '._tooltip_bpzve_1{align-self:center;animation-duration:.2s;animation-fill-mode:forwards;animation-name:_show_bpzve_1;animation-play-state:running;animation-timing-function:cubic-bezier(.2,0,0,1);background-color:var(--adsgram-bg-color);border-radius:var(--s-spacing);box-shadow:0 1px 2px #00000029;cursor:default;opacity:0;padding:10px 12px;position:relative;scale:25%;text-align:center;top:-10px;transform:translate(30px)}@keyframes _show_bpzve_1{0%{opacity:0;scale:25%;top:-10px}to{opacity:1;scale:100%;top:10px}}._tooltip_bpzve_1:after{border:6px solid;border-color:transparent transparent var(--adsgram-bg-color) transparent;content:"";left:50%;position:absolute;top:0;transform:translate(-50%,-100%)}._title_bpzve_45{color:var(--adsgram-text-color);font-size:var(--text-s);font-weight:var(--font-medium);line-height:16px;margin:0;text-align:center}',
    Ta = "._wrapper_1t8xa_1{height:100%;position:relative;width:100%}",
    Ca = "._overlay_h6eeg_1{align-items:center;background-color:#0009;border-radius:var(--xs-spacing);display:flex;height:100%;justify-content:center;width:100%}._image_h6eeg_11{aspect-ratio:1/1;filter:drop-shadow(2px 2px 2px rgb(0 0 0/60%));width:25%}",
    Pa = "*{border:none;margin:0;padding:0}*,:after,:before{box-sizing:border-box}a,a:hover,a:link,a:visited{text-decoration:none}button,input,select,textarea{background-color:transparent;color:inherit;font-family:inherit;font-size:inherit}:host{font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}",
    Na = ":host{--xxxs-spacing:4px;--xxs-spacing:6px;--xs-spacing:8px;--s-spacing:12px;--text-xs:12px;--text-s:13px;--text-m:15px;--text-l:16px;--font-normal:400;--font-medium:500;--font-semibold:600}";

  function Sa(e) {
    if (e.shadowRoot) return e.shadowRoot;
    const t = e.attachShadow({
        mode: "closed"
      }),
      n = document.createElement("style");
    return n.textContent = function() {
      const e = Object.assign({
        "/src/banners/fullscreenMedia/fullscreenMedia.module.css": ta,
        "/src/banners/rwvideo/rwvideo.module.css": na,
        "/src/components/adsgramLabel/adsgramLabel.module.css": ra,
        "/src/components/chatBackground/chatBackground.module.css": ia,
        "/src/components/footer/footer.module.css": aa,
        "/src/components/kebab/kebab.module.css": oa,
        "/src/components/kebab/kebabContet.module.css": sa,
        "/src/components/kebab/legalInfoItem.module.css": la,
        "/src/components/player/components/actionButton/actionButton.module.css": ca,
        "/src/components/player/components/adLabel/adLabel.module.css": da,
        "/src/components/player/components/close/close.module.css": ua,
        "/src/components/player/components/closeButton/closeButton.module.css": pa,
        "/src/components/player/components/footer/footer.module.css": _a,
        "/src/components/player/components/header/header.module.css": ha,
        "/src/components/player/components/packshot/packshot.module.css": ma,
        "/src/components/player/components/playerInitContainer/playerInitContainer.css": fa,
        "/src/components/player/components/skipPoint/skipPoint.module.css": ga,
        "/src/components/player/components/timeline/timeline.module.css": ba,
        "/src/components/player/components/volume/volume.module.css": va,
        "/src/components/player/player.module.css": ya,
        "/src/components/post/post.module.css": wa,
        "/src/components/postButton/postButton.module.css": ka,
        "/src/components/postCloseButton/postCloseButton.module.css": xa,
        "/src/components/timer/timer.module.css": Ea,
        "/src/components/tooltip/tooltip.module.css": Aa,
        "/src/preview/components/previewWrapper/previewWrapper.module.css": Ta,
        "/src/preview/components/replay/replay.module.css": Ca,
        "/src/theme/reset.css": Pa,
        "/src/theme/variables.css": Na
      });
      return Object.values(e).join("")
    }(), t.append(n), t
  }
  const Ra = e => `--adsgram-${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}`;
  const Ia = {
    iosLight: {
      accentTextColor: "#5679E3",
      bgColor: "#ffffff",
      buttonColor: "#5679E3",
      buttonTextColor: "#ffffff",
      destructiveTextColor: "#FF3B30",
      headerBgColor: "#F8F8F8",
      hintColor: "#8E8E93",
      linkColor: "#5679E3",
      secondaryBgColor: "#EFEFF4",
      sectionBgColor: "#ffffff",
      sectionHeaderTextColor: "#6D6D72",
      sectionSeparatorColor: "#C8C7CC",
      subtitleTextColor: "#8E8E93",
      textColor: "#000000",
      postOpacityButtonColor: "rgb(84 140 73 / 50%)",
      postBgColor: "#99ba92",
      postBgGradient: "radial-gradient(47.89% 72.56% at 0% 100%, #78A389 0%, rgba(120, 163, 137, 0.00) 100%), radial-gradient(57.75% 64.84% at 100% 100%, #DBDDBE 0%, rgba(219, 221, 190, 0.00) 100%), radial-gradient(64.18% 65.96% at 0% 0%, #D6D896 0%, rgba(214, 216, 150, 0.00) 100%)",
      postBgBlendMode: "normal, normal, lighten",
      postStrokeFilter: "brightness(0) saturate(100%) invert(67%) sepia(28%) saturate(407%) hue-rotate(66deg) brightness(87%) contrast(88%)",
      postStrokeOpacity: "1",
      postMixBlendMode: "normal"
    },
    androidLight: {
      accentTextColor: "#1C93E3",
      bgColor: "#ffffff",
      buttonColor: "#50A8EB",
      buttonTextColor: "#ffffff",
      destructiveTextColor: "#CC2929",
      headerBgColor: "#527DA3",
      hintColor: "#A8A8A8",
      linkColor: "#2678B6",
      secondaryBgColor: "#F0F0F0",
      sectionBgColor: "#ffffff",
      sectionHeaderTextColor: "#3A95D5",
      sectionSeparatorColor: "#D9D9D9",
      subtitleTextColor: "#82868A",
      textColor: "#222222",
      postOpacityButtonColor: "rgb(84 140 73 / 50%)",
      postBgColor: "#99ba92",
      postBgGradient: "radial-gradient(47.89% 72.56% at 0% 100%, #78A389 0%, rgba(120, 163, 137, 0.00) 100%), radial-gradient(57.75% 64.84% at 100% 100%, #DBDDBE 0%, rgba(219, 221, 190, 0.00) 100%), radial-gradient(64.18% 65.96% at 0% 0%, #D6D896 0%, rgba(214, 216, 150, 0.00) 100%)",
      postBgBlendMode: "normal, normal, lighten",
      postStrokeFilter: "brightness(0) saturate(100%) invert(67%) sepia(28%) saturate(407%) hue-rotate(66deg) brightness(87%) contrast(88%)",
      postStrokeOpacity: "1",
      postMixBlendMode: "normal"
    },
    iosDark: {
      accentTextColor: "#2EA6FF",
      bgColor: "#18222D",
      buttonColor: "#2EA6FF",
      buttonTextColor: "#ffffff",
      destructiveTextColor: "#FF6767",
      headerBgColor: "#21303F",
      hintColor: "#DBF5FF",
      linkColor: "#2EA6FF",
      secondaryBgColor: "#18222D",
      sectionBgColor: "#21303F",
      sectionHeaderTextColor: "#83898E",
      sectionSeparatorColor: "#384656",
      subtitleTextColor: "#DBF5FF",
      textColor: "#ffffff",
      postOpacityButtonColor: "rgba(50, 63, 76, 0.60)",
      postBgColor: "#18222D",
      postBgGradient: "radial-gradient(\n      63.53% 138.09% at 137.08% -38.32%,\n      rgba(10, 16, 28, 0.5) 0%,\n      rgba(10, 16, 28, 0.4) 68.05%,\n      rgba(10, 16, 28, 0) 100%\n    ),\n    radial-gradient(\n      77.93% 126.72% at -30% 128.97%,\n      rgba(10, 16, 28, 0.5) 0%,\n      rgba(10, 16, 28, 0.4) 70.99%,\n      rgba(10, 16, 28, 0) 100%\n    ),\n    radial-gradient(\n      56.56% 63.9% at 100% 116.17%,\n      rgba(39, 70, 98, 0.5) 0%,\n      rgba(39, 70, 98, 0.2) 74.01%,\n      rgba(39, 70, 98, 0) 100%\n    ),\n    radial-gradient(\n      69.64% 77.04% at -7.64% -18.34%,\n      rgba(39, 70, 98, 0.5) 0%,\n      rgba(39, 70, 98, 0.2) 78.32%,\n      rgba(39, 70, 98, 0) 100%\n    )",
      postBgBlendMode: "normal, normal, color, color",
      postStrokeFilter: "invert(16%) sepia(14%) saturate(1191%) hue-rotate(172deg) brightness(93%) contrast(96%)",
      postStrokeOpacity: "0.7",
      postMixBlendMode: "luminosity"
    },
    androidDark: {
      accentTextColor: "#64b5ef",
      bgColor: "#212d3b",
      buttonColor: "#50a8eb",
      buttonTextColor: "#ffffff",
      destructiveTextColor: "#ee686f",
      headerBgColor: "#242d39",
      hintColor: "#7d8b99",
      linkColor: "#5eabe1",
      secondaryBgColor: "#151e27",
      sectionBgColor: "#1d2733",
      sectionHeaderTextColor: "#79c4fc",
      sectionSeparatorColor: "#0d1218",
      subtitleTextColor: "#7b8790",
      textColor: "#ffffff",
      postOpacityButtonColor: "rgb(48 63 78 / 60%)",
      postBgColor: "#151e27",
      postBgGradient: "radial-gradient(\n      43.38% 62.54% at -2.92% 105.24%,\n      rgba(68, 134, 196, 0.1) 0%,\n      rgba(68, 134, 196, 0.04) 75.14%,\n      rgba(68, 134, 196, 0) 100%\n    ),\n    radial-gradient(\n      56.6% 63.55% at 100% 125.75%,\n      rgba(8, 11, 17, 0.5) 0%,\n      rgba(8, 11, 17, 0.4) 37.24%,\n      rgba(8, 11, 17, 0) 100%\n    ),\n    radial-gradient(\n      61.52% 69.05% at 84.72% 29.72%,\n      rgba(19, 26, 42, 0.7) 0%,\n      rgba(19, 26, 42, 0.7) 46.18%,\n      rgba(19, 26, 42, 0) 100%\n    ),\n    radial-gradient(\n      80.45% 113.02% at -34.72% -19.61%,\n      rgba(8, 11, 17, 0.5) 37.77%,\n      rgba(8, 11, 17, 0.3) 59.2%,\n      rgba(8, 11, 17, 0.1) 87.13%,\n      rgba(8, 11, 17, 0) 100%\n    )",
      postBgBlendMode: "normal, normal, color, normal",
      postStrokeFilter: "invert(16%) sepia(14%) saturate(1191%) hue-rotate(172deg) brightness(93%) contrast(96%)",
      postStrokeOpacity: "0.7",
      postMixBlendMode: "luminosity"
    }
  };

  function Va({
    blockId: e,
    container: t,
    data: n,
    EventEmitter: r
  }) {
    const i = t && ea(t) ? t : function(e) {
        const t = document.createElement("div");
        return document.documentElement.append(t), t.setAttribute("id", e), t.setAttribute("style", "position: relative;z-index:2147483647;"), t
      }(e),
      a = Sa(i);
    ! function(e, t) {
      const n = Object.entries(t);
      for (const [a, o] of n) o && (r = Ra(a), i = o, (e || document.documentElement).style.setProperty(r, i));
      var r, i
    }(i, Ia[Nn()]), lt({
      data: n,
      EventEmitter: r
    });
    const o = ve();
    o.add("blockId", e).add("bannerType", n.bannerType).add("blockType", n.blockType).add("campaignId", n.campaignId);
    try {
      nt(Rn(Qi, {
        bannerType: n.bannerType,
        blockType: n.blockType,
        data: n,
        blockId: e,
        EventEmitter: r,
        logger: o
      }), a)
    } catch {
      o.send("RenderError"), r.emit(at.renderError)
    }
    const s = () => {
      ! function({
        blockId: e,
        shadowRoot: t,
        container: n,
        shouldRemoveContainer: r
      }) {
        nt(null, t);
        const i = n ?? document.getElementById(e);
        i && r && i.remove()
      }({
        blockId: e,
        container: i,
        shadowRoot: a,
        shouldRemoveContainer: !(t && ea(t))
      }), r.off(at.finalDestroy, s)
    };
    r.on(at.finalDestroy, s)
  }
  class La {
    blockId;
    EventEmitter;
    bannerData;
    forceCampaignId;
    loadBannerPromise;
    container;
    isShowing;
    isLoading;
    rewardMark;
    constructor({
      blockId: e,
      container: t,
      debug: n,
      debugBannerType: r
    }) {
      this.blockId = e, this.container = t, this.EventEmitter = new kn, this.subscribe(), this.isShowing = !1, this.isLoading = !1, this.forceCampaignId = n ? q[r ?? G] : void 0, this.rewardMark = function() {
        let e = -1 / 0;
        return Object.freeze({
          set: () => {
            e = Date.now()
          },
          measure: () => Date.now() - e
        })
      }()
    }
    async show() {
      if (this.rewardMark.measure() < 1e4) throw this.EventEmitter.hasHandlers(ot.onNonStopShow) ? this.EventEmitter.emit(ot.onNonStopShow) : de({
        message: H(n)
      }), Y.nonStopShowError;
      if (!this.bannerData) {
        if (!(await this._load())) throw Y.noBannerToShowError
      }
      if (this.isShowing) throw Y.duplicateShowError;
      return new Promise(((e, t) => {
        if (!this.bannerData) return t(Y.noBannerDataError);
        this.isShowing = !0, this.EventEmitter.emit(at.show);
        try {
          Va({
            blockId: this.blockId,
            container: this.container,
            data: this.bannerData,
            EventEmitter: this.EventEmitter
          })
        } catch {
          ve().add("blockId", this.blockId).add("bannerType", this.bannerData.bannerType).add("blockType", this.bannerData.blockType).add("campaignId", this.bannerData.campaignId).send("UnknownRenderError", "WARN"), t(Y.renderError)
        }
        this.EventEmitter.on(at.renderError, (() => {
          this.EventEmitter.emit(ot.onError), t(Y.renderError)
        })), this.EventEmitter.on(at.error, (() => {
          this.EventEmitter.emit(ot.onError), t(Y.playError)
        })), this.EventEmitter.on(ot.onSkip, (() => {
          t(Y.skip)
        })), this.EventEmitter.on(ot.onReward, (() => {
          this.rewardMark.set(), e(Y.reward)
        })), this.EventEmitter.on(ot.onComplete, (() => {
          this.rewardMark.set(), e(Y.complete)
        }))
      }))
    }
    async load() {
      return console.error("AdsgramError: Deprecated method AdController.load, use AdController.show right away"), ve().add("blockId", this.blockId).send("DeprecatedLoadInvoked", "WARN"), !0
    }
    async preload() {
      console.error("AdsgramError: Deprecated method AdController.preload, use AdController.show right away"), ve().add("blockId", this.blockId).send("DeprecatedPreloadInvoked", "WARN"), this.EventEmitter.emit(at.preload)
    }
    addEventListener(e, t) {
      if (!ot[e]) throw new ue({
        message: `The event argument must be one of ${Object.keys(ot).join(", ")}. Received ${e}`
      });
      this.EventEmitter.on(e, t)
    }
    removeEventListener(e, t) {
      if (!ot[e]) throw new ue({
        message: `The event argument must be one of ${Object.keys(ot).join(", ")}. Received ${e}`
      });
      this.EventEmitter.off(e, t)
    }
    destroy() {
      this.EventEmitter.emit(at.destroy)
    }
    async _load() {
      return !!this.bannerData || (this.loadBannerPromise instanceof Promise && this.isLoading ? await this.loadBannerPromise : (this.isLoading = !0, this.EventEmitter.emit(at.load), this.loadBannerPromise = ye(this.blockId, this.forceCampaignId).then((e => {
        if (e && e.bannerType) {
          const t = s[e.blockType];
          if (!this.blockId.startsWith(t)) throw new ue({
            message: `BlockId that you pass to init function should starts with ${t}`
          });
          return this.bannerData = e, !0
        }
        return this.EventEmitter.hasHandlers(ot.onBannerNotFound) ? this.EventEmitter.emit(ot.onBannerNotFound) : de({
          message: H(t)
        }), !1
      })).catch((() => (this.EventEmitter.emit(ot.onError), !1))).finally((() => {
        this.isLoading = !1
      })), this.loadBannerPromise))
    }
    finalDestroy() {
      this.EventEmitter.emit(at.finalDestroy), this.resetVariables()
    }
    subscribe() {
      this.EventEmitter.on(at.destroy, this.finalDestroy.bind(this)), this.EventEmitter.on(ot.onReward, this.finalDestroy.bind(this)), this.EventEmitter.on(ot.onComplete, this.finalDestroy.bind(this)), this.EventEmitter.on(ot.onSkip, this.finalDestroy.bind(this)), this.EventEmitter.on(at.error, this.finalDestroy.bind(this)), this.EventEmitter.on(at.renderError, this.finalDestroy.bind(this))
    }
    resetVariables() {
      this.bannerData = void 0, this.loadBannerPromise = void 0, this.isShowing = !1
    }
  }
  const Fa = {
    blockId: function(e) {
      if (!("blockId" in e)) throw new ue({
        message: "blockId is required param for init function"
      });
      if ("string" != typeof e.blockId) throw new ue({
        message: "blockId param should be string"
      });
      if (!/\d+$/.test(e.blockId)) throw new ue({
        message: `blockId param should be string with number value inside, you pass ${e.blockId}`
      });
      if (/^\D/.test(e.blockId)) {
        if (!o.some((t => e.blockId.startsWith(t)))) throw new ue({
          message: `blockId param have wrong prefix, you pass ${e.blockId}. Prefix could be ${o.join(", ")}`
        })
      }
      return !0
    },
    container: function(e) {
      if ("container" in e) {
        if (e.container instanceof HTMLElement) return !0;
        throw new ue({
          message: `container should be instanceof HTMLElement you call with ${JSON.stringify(e.container)}`
        })
      }
      return !0
    },
    hasReward: function(e) {
      if ("hasReward" in e) {
        if ("boolean" != typeof e.hasReward) throw new ue({
          message: `hasReward should be boolean you call with ${JSON.stringify(e.hasReward)}`
        });
        return !0
      }
      return !0
    },
    debug: function(e) {
      if ("debug" in e) {
        if ("boolean" != typeof e.debug) throw new ue({
          message: `debug should be boolean you call with ${JSON.stringify(e.debug)}`
        });
        return !0
      }
      return !0
    },
    debugBannerType: function(e) {
      if ("debugBannerType" in e) {
        if ("string" != typeof e.debugBannerType) throw new ue({
          message: `debugBannerType should be string you call with ${JSON.stringify(e.debugBannerType)}`
        });
        if (!Object.keys(q).includes(e.debugBannerType)) throw new ue({
          message: `debugBannerType should be one of ${Object.keys(q)} you call with ${e.debugBannerType}`
        })
      }
      return !0
    }
  };
  const Da = {};

  function Oa(e) {
    if (! function(e) {
        if ("object" != typeof e) throw new ue({
          message: `Object should be passed to the init function you pass ${JSON.stringify(e)}`
        });
        return !("object" != typeof e || e instanceof Function || Array.isArray(e) || null === e) && Object.values(Fa).every((t => t(e)))
      }(e)) throw new ue({
      message: "Attempt to create AdController with wrong params"
    });
    const {
      blockId: t
    } = e;
    return Da[t] || (Da[t] = new La(e)), Da[t]
  }

  function Ba(e) {
    return Oa(e)
  }
  Ba.version = "0.9.2", window.Adsgram = {
    ...window.Adsgram,
    init: Ba
  }, e.init = Ba, Object.defineProperty(e, Symbol.toStringTag, {
    value: "Module"
  })
}));